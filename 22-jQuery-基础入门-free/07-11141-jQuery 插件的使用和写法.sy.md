---
show: step
version: 1.0
enable_checker: true
---

# jQuery 插件的使用和写法

## 一、实验介绍

#### 1.1 实验内容

插件（Plugin）也成为扩展（Extension）是一种遵循一定规范的应用程序接口编写出来的程序。最新最全的插件可以从 jQuery 官方网站的插件板块中获取，网站地址为：`https://plugins.jquery.com/` 。本节中我们会介绍几个常用的 jQuery 插件。

#### 1.2 实验知识点

- jQuery 表单验证插件 Validation

- jQuery Cookie 插件

- jQuery UI 插件（重点介绍）

#### 1.3 实验环境

- `Theia`: 一款前后端分离的、基于 web 的 云 IDE。
- `Preview 或 Mini Browser`：浏览器，右键点击目标 html 文件，选择 open with 下的 Preview 或 Mini Browser 即可在 IDE 中打开浏览器。

#### 1.4 参考链接

- [jQuery Validate 官网](https://jqueryvalidation.org/)

- [jQuery UI 中文官网](http://www.jqueryui.org.cn/)

## 二、jQuery 表单验证插件 Validation

我们来介绍第一个插件：Validation。

### 2.1 Validation 简介

最常使用 JavaScript 的场合就是表单的验证，jQuery 中提供了一个优秀的表单验证插件 Validation。Validation 是历史最悠久的 jQuery 插件之一，得到了众多 Web 开发者的好评，作为一个标准的验证方法库，Validation 有如下特点：

- 内置验证规则：拥有必填、数字、E-Mail、URL 和信用卡号码等 19 种类内置验证规则。

- 自定义验证规则：可以很方便地自定义验证规则。

- 简单强大的验证信息提示：默认了验证信息提示，并提供自定义覆盖默认提示信息的功能。

- 实时验证：可以通过 keyup 或 blur 事件触发验证，而不仅仅在表单提交的时候验证。

### 2.2 下载地址

可以访问 [jQuery Validate 官网](https://jqueryvalidation.org/)，下载最新版的 jQuery Validate 插件。也可以使用命令下载(这里下载的是 1.19.0 版本，jQuery 使用的是 3.3.1 版本）：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/jquery.validate.js
```

### 2.3 简单的例子

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="jquery.validate.js"></script>
    <style type="text/css">
      * {
        font-family: Verdana;
        font-size: 96%;
      }

      label {
        width: 10em;
        float: left;
      }

      label.error {
        float: none;
        color: red;
        padding-left: 0.5em;
        vertical-align: top;
      }

      p {
        clear: both;
      }

      .submit {
        margin-left: 12em;
      }

      em {
        font-weight: bold;
        padding-right: 1em;
        vertical-align: top;
      }
    </style>
  </head>
  <body>
    <form class="cmxform" id="commentForm" method="get" action="">
      <fieldset>
        <legend>一个简单的带验证提示的评论例子</legend>
        <p>
          <label for="cusername">姓名</label>
          <em>*</em
          ><input
            id="cusername"
            name="username"
            size="25"
            class="required"
            minlength="2"
          />
        </p>
        <p>
          <label for="cemail">邮箱</label>
          <em>*</em
          ><input id="cemail" name="email" size="25" class="required email" />
        </p>
        <p>
          <label for="curl">网址</label>
          <em> </em
          ><input id="curl" name="url" size="25" class="url" value="" />
        </p>
        <p>
          <label for="ccomment">评论</label>
          <em>*</em
          ><textarea
            id="ccomment"
            name="comment"
            cols="22"
            class="required"
          ></textarea>
        </p>
        <p>
          <input class="submit" type="submit" value="提交" />
        </p>
      </fieldset>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
        $("#commentForm").validate();
      });
    </script>
  </body>
</html>
```

运行效果为：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555640699886.png/wm)

我们发现当输入字符的时候，表单元素会实时的相应验证信息，而不是像我们原生的 HTML5 表单中那样只有当用户单击“提交”按钮后才可以出现，这样做能实时的提示用户输入符合格式的数据，极大地提高了用户体验。而且从例子来看，也很简单：

（1） 引入 jQuery 和 validate。

（2） 确定哪个表单需要被验证。

```js
$("#commentForm").validate();
```

（3）针对不同的字段，进行验证规则编码，设置字段相应的属性：

- `class="required"` 表示必须填写，minlength="2" 表示最小长度为 2。

- `class="required email"` 表示必须填写符合 E-mail 格式的内容。

- `class="url"` 表示为 url 格式验证。

### 2.4 默认规则

默认的校验规则：

1 `required:true` 必须输入的字段。

2 `remote:"check.php"` 使用 ajax 方法调用 check.php 验证输入值。

3 `email:true` 必须输入正确格式的电子邮件。

4 `url:true` 必须输入正确格式的网址。

5 `date:true` 必须输入正确格式的日期。日期校验 ie6 出错，慎用。

6 `dateISO:true` 必须输入正确格式的日期（ISO），例如：2009-06-23，1998/01/22。只验证格式，不验证有效性。

7 `number:true` 必须输入合法的数字（负数，小数）。

8 `digits:true` 必须输入整数。

9 `creditcard:` 必须输入合法的信用卡号。

10 `equalTo:"#field"` 输入值必须和 #field 相同。

11 `accept:` 输入拥有合法后缀名的字符串（上传文件的后缀）。

12 `maxlength:5` 输入长度最多是 5 的字符串（汉字算一个字符）。

13 `minlength:10` 输入长度最小是 10 的字符串（汉字算一个字符）。

14 `rangelength:[5,10]` 输入长度必须介于 5 和 10 之间的字符串（汉字算一个字符）。

15 `range:[5,10]` 输入值必须介于 5 和 10 之间。

16 `max:5` 输入值不能大于 5。

17 `min:10` 输入值不能小于 10。

默认的信息提示：

```js
messages: {
    required: "This field is required.",
    remote: "Please fix this field.",
    email: "Please enter a valid email address.",
    url: "Please enter a valid URL.",
    date: "Please enter a valid date.",
    dateISO: "Please enter a valid date ( ISO ).",
    number: "Please enter a valid number.",
    digits: "Please enter only digits.",
    creditcard: "Please enter a valid credit card number.",
    equalTo: "Please enter the same value again.",
    maxlength: $.validator.format( "Please enter no more than {0} characters." ),
    minlength: $.validator.format( "Please enter at least {0} characters." ),
    rangelength: $.validator.format( "Please enter a value between {0} and {1} characters long." ),
    range: $.validator.format( "Please enter a value between {0} and {1}." ),
    max: $.validator.format( "Please enter a value less than or equal to {0}." ),
    min: $.validator.format( "Please enter a value greater than or equal to {0}." )
}
```

### 2.5 不同的验证写法

除了上述例子提到的将校验规则写到控件中，我们还可以将校验规则写到 js 代码中。比如上面的例子可以改写成：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="jquery.validate.js"></script>
    <script type="text/javascript" src="jquery.metadata.js"></script>
    <style type="text/css">
      * {
        font-family: Verdana;
        font-size: 96%;
      }

      label {
        width: 10em;
        float: left;
      }

      label.error {
        float: none;
        color: red;
        padding-left: 0.5em;
        vertical-align: top;
      }

      p {
        clear: both;
      }

      .submit {
        margin-left: 12em;
      }

      em {
        font-weight: bold;
        padding-right: 1em;
        vertical-align: top;
      }
    </style>
  </head>
  <body>
    <form class="cmxform" id="commentForm" method="get" action="">
      <fieldset>
        <legend>一个简单的验证带验证提示的评论例子</legend>
        <p>
          <label for="cusername">姓名</label>
          <em>*</em><input id="cusername" name="username" size="25" />
        </p>
        <p>
          <label for="cemail">电子邮件</label>
          <em>*</em><input id="cemail" name="email" size="25" />
        </p>
        <p>
          <label for="curl">网址</label>
          <em> </em><input id="curl" name="url" size="25" value="" />
        </p>
        <p>
          <label for="ccomment">你的评论</label>
          <em>*</em><textarea id="ccomment" name="comment" cols="22"></textarea>
        </p>
        <p>
          <input class="submit" type="submit" value="提交" />
        </p>
      </fieldset>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
        $("#commentForm").validate({
          rules: {
            username: {
              required: true,
              minlength: 2,
            },
            email: {
              required: true,
              email: true,
            },
            url: "url",
            comment: "required",
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果是完全一样的，只不过这里更改了校验规则的写法。

### 2.6 验证信息

（1）汉化

jQuery Validate 提供了中文信息提示包，位于下载包的 dist/localization/messages_zh.js，内容如下：

```js
(function (factory) {
  if (typeof define === "function" && define.amd) {
    define(["jquery", "../jquery.validate"], factory);
  } else if (typeof module === "object" && module.exports) {
    module.exports = factory(require("jquery"));
  } else {
    factory(jQuery);
  }
})(function ($) {
  /*
   * Translated default messages for the jQuery validation plugin.
   * Locale: ZH (Chinese, 中文 (Zhōngwén), 汉语, 漢語)
   */
  $.extend($.validator.messages, {
    required: "这是必填字段",
    remote: "请修正此字段",
    email: "请输入有效的电子邮件地址",
    url: "请输入有效的网址",
    date: "请输入有效的日期",
    dateISO: "请输入有效的日期 (YYYY-MM-DD)",
    number: "请输入有效的数字",
    digits: "只能输入数字",
    creditcard: "请输入有效的信用卡号码",
    equalTo: "你的输入不相同",
    extension: "请输入有效的后缀",
    maxlength: $.validator.format("最多可以输入 {0} 个字符"),
    minlength: $.validator.format("最少要输入 {0} 个字符"),
    rangelength: $.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),
    range: $.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),
    step: $.validator.format("请输入 {0} 的整数倍值"),
    max: $.validator.format("请输入不大于 {0} 的数值"),
    min: $.validator.format("请输入不小于 {0} 的数值"),
  });
  return $;
});
```

当然还有其他语言，大家有兴趣的可以自行尝试。这里使用方式也很简单，只需要把前面的代码中引入 messages_zh.js 即可。使用命令下载：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/messages_zh.js
```

然后再引入：

```js
<script type="text/javascript" src="messages_zh.js"></script>
```

注意，这里的汉化包要放到验证的 js 后面。

最终的运行效果就变成中文提示的了：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555643220776.png/wm)

（2）自定义验证信息

Validation 可以很方便地自定义验证规则，来代替千篇一律的默认验证信息。比如：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="jquery.validate.js"></script>
    <script type="text/javascript" src="jquery.metadata.js"></script>
    <style type="text/css">
      * {
        font-family: Verdana;
        font-size: 96%;
      }

      label {
        width: 10em;
        float: left;
      }

      label.error {
        float: none;
        color: red;
        padding-left: 0.5em;
        vertical-align: top;
      }

      p {
        clear: both;
      }

      .submit {
        margin-left: 12em;
      }

      em {
        font-weight: bold;
        padding-right: 1em;
        vertical-align: top;
      }
    </style>
  </head>
  <body>
    <form class="cmxform" id="commentForm" method="get" action="">
      <fieldset>
        <legend>一个简单的验证带验证提示的评论例子</legend>
        <p>
          <label for="cusername">姓名</label>
          <em>*</em><input id="cusername" name="username" size="25" />
        </p>
        <p>
          <label for="cemail">电子邮件</label>
          <em>*</em><input id="cemail" name="email" size="25" />
        </p>
        <p>
          <label for="curl">网址</label>
          <em> </em><input id="curl" name="url" size="25" value="" />
        </p>
        <p>
          <label for="ccomment">你的评论</label>
          <em>*</em><textarea id="ccomment" name="comment" cols="22"></textarea>
        </p>
        <p>
          <input class="submit" type="submit" value="提交" />
        </p>
      </fieldset>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
        $("#commentForm").validate({
          rules: {
            username: {
              required: true,
              minlength: 2,
            },
            email: {
              required: true,
              email: true,
            },
            url: "url",
            comment: "required",
          },
          messages: {
            username: {
              required: "请输入用户名",
              minlength: "用户名必需由两个字母组成",
            },
            email: {
              required: "请输入邮箱",
              email: "请输入正确的邮箱",
            },
            url: "请输入正确的url",
            comment: "请输入评论",
          },
        });
      });
    </script>
  </body>
</html>
```

注：messages 处，如果某个控件没有 message，将调用默认的信息。

运行效果为：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555652633034.png/wm)

（3）自定义验证信息并美化

为验证信息添加上图片来美化，也很简单。只需在 jQuery 代码中添加：

```js
errorElement: "em", //可以用其他标签，记住把样式也对应修改
success: function(label) {
    //label指向上面那个错误提示信息标签em
    label.text(" ") //清空错误提示消息
        .addClass("success"); //加上自定义的success类
}
```

css 代码中添加如下代码，以便于 errorElement 相关联：

```css
em.error {
  background: url("unchecked.gif") no-repeat 0px 0px;
  padding-left: 16px;
}

em.success {
  background: url("checked.gif") no-repeat 0px 0px;
  padding-left: 16px;
}
```

所需要的图片通过命令下载：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/checked.gif
wget https://labfile.oss.aliyuncs.com/courses/22/unchecked.gif
```

完整的代码例子为：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="jquery.validate.js"></script>
    <style type="text/css">
      * {
        font-family: Verdana;
        font-size: 96%;
      }

      label {
        width: 10em;
        float: left;
      }

      label.error {
        float: none;
        color: red;
        padding-left: 0.5em;
        vertical-align: top;
      }

      p {
        clear: both;
      }

      .submit {
        margin-left: 12em;
      }

      em {
        font-weight: bold;
        padding-right: 1em;
        vertical-align: top;
      }

      em.error {
        background: url("unchecked.gif") no-repeat 0px 0px;
        padding-left: 16px;
      }

      em.success {
        background: url("checked.gif") no-repeat 0px 0px;
        padding-left: 16px;
      }
    </style>
  </head>
  <body>
    <form class="cmxform" id="commentForm" method="get" action="">
      <fieldset>
        <legend>一个简单的验证带验证提示的评论例子</legend>
        <p>
          <label for="cusername">姓名</label>
          <em>*</em><input id="cusername" name="username" size="25" />
        </p>
        <p>
          <label for="cemail">电子邮件</label>
          <em>*</em><input id="cemail" name="email" size="25" />
        </p>
        <p>
          <label for="curl">网址</label>
          <em> </em><input id="curl" name="url" size="25" value="" />
        </p>
        <p>
          <label for="ccomment">你的评论</label>
          <em>*</em><textarea id="ccomment" name="comment" cols="22"></textarea>
        </p>
        <p>
          <input class="submit" type="submit" value="提交" />
        </p>
      </fieldset>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
        $("#commentForm").validate({
          rules: {
            username: {
              required: true,
              minlength: 2,
            },
            email: {
              required: true,
              email: true,
            },
            url: "url",
            comment: "required",
          },

          messages: {
            username: {
              required: "请输入姓名",
              minlength: "请至少输入两个字符",
            },
            email: {
              required: "请输入电子邮件",
              email: "请检查电子邮件的格式",
            },
            url: "请检查网址的格式",
            comment: "请输入您的评论",
          },

          errorElement: "em", //可以用其他标签，记住把样式也对应修改
          success: function (label) {
            //label指向上面那个错误提示信息标签em
            label
              .text(" ") //清空错误提示消息
              .addClass("success"); //加上自定义的success类
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555654396500.png/wm)

### 2.7 自定义验证规则

（1）自定义一个验证规则

```js
//自定义一个验证方法
$.validator.addMethod(
  "formula", //验证方法名称
  function (value, element, param) {
    //验证规则
    return value == eval(param);
  },
  "请正确输入数学公式计算后的结果" //验证提示信息
);
```

（2）调用该验证规则。

```js
$("#commentForm").validate({
  rules: {
    username: {
      required: true,
      minlength: 2,
    },
    email: {
      required: true,
      email: true,
    },
    url: "url",
    comment: "required",
    valcode: { formula: "1+1" },
  },
});
```

完整的代码为：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="jquery.validate.js"></script>
    <style type="text/css">
      * {
        font-family: Verdana;
        font-size: 96%;
      }

      label {
        width: 10em;
        float: left;
      }

      label.error {
        float: none;
        color: red;
        padding-left: 0.5em;
        vertical-align: top;
      }

      p {
        clear: both;
      }

      .submit {
        margin-left: 12em;
      }

      em {
        font-weight: bold;
        padding-right: 1em;
        vertical-align: top;
      }

      em.error {
        background: url("unchecked.gif") no-repeat 0px 0px;
        padding-left: 16px;
      }

      em.success {
        background: url("checked.gif") no-repeat 0px 0px;
        padding-left: 16px;
      }
    </style>
  </head>
  <body>
    <form class="cmxform" id="commentForm" method="get" action="">
      <fieldset>
        <legend>一个简单的验证带验证提示的评论例子</legend>
        <p>
          <label for="cusername">姓名</label>
          <em>*</em><input id="cusername" name="username" size="25" />
        </p>
        <p>
          <label for="cemail">电子邮件</label>
          <em>*</em><input id="cemail" name="email" size="25" />
        </p>
        <p>
          <label for="curl">网址</label>
          <em> </em><input id="curl" name="url" size="25" value="" />
        </p>
        <p>
          <label for="ccomment">你的评论</label>
          <em>*</em><textarea id="ccomment" name="comment" cols="22"></textarea>
        </p>
        <p>
          <label for="cvalcode">验证码</label>
          1+1=<input id="cvalcode" name="valcode" size="25" value="" />
        </p>
        <p>
          <input class="submit" type="submit" value="提交" />
        </p>
      </fieldset>
    </form>

    <script type="text/javascript">
      $(document).ready(function () {
        //自定义一个验证方法
        $.validator.addMethod(
          "formula", //验证方法名称
          function (value, element, param) {
            //验证规则
            return value == eval(param);
          },
          "请正确输入数学公式计算后的结果" //验证提示信息
        );

        $("#commentForm").validate({
          rules: {
            username: {
              required: true,
              minlength: 2,
            },
            email: {
              required: true,
              email: true,
            },
            url: "url",
            comment: "required",
            valcode: {
              formula: "1+1",
            },
          },

          messages: {
            username: {
              required: "请输入姓名",
              minlength: "请至少输入两个字符",
            },
            email: {
              required: "请输入电子邮件",
              email: "请检查电子邮件的格式",
            },
            url: "请检查网址的格式",
            comment: "请输入您的评论",
          },

          errorElement: "em", //用来创建错误提示信息标签
          success: function (label) {
            //验证成功后的执行的回调函数
            //label指向上面那个错误提示信息标签em
            label
              .text(" ") //清空错误提示消息
              .addClass("success"); //加上自定义的success类
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555655125131.png/wm)

### 2.8 了解更多

更多实例大家可以访问 [jQuery Validate 官网](https://jqueryvalidation.org/)下载，里面有个 demo 文件夹大家可以尝试去看看里面的例子，如下所示：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555652940132.png/wm)

## 三、jQuery Cookie 插件

jQuery 可以通过 jquery.cookie.js 插件来操作 Cookie。它的 github 网址是：`https://github.com/carhartl/jquery-cookie`。我们进入这个网站，我们会发现这样一句话：

```text
No longer maintained, superseded by JS Cookie: https://github.com/js-cookie/js-cookie
```

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555659251700.png/wm)

也就是说这个插件现在已经没有维护了，并且都转移到了 js-cookie，那么我们再讲 jquery cookie 插件的话其实意义不大了，大家可以自行到 github 上看看它的使用说明，下面我们着重讲解 js-cookie。

### 3.1 下载地址

`https://github.com/js-cookie/js-cookie`

大家可以进入该页面，查看说明以及下载该插件，如下图所示：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555657221517.png/wm)

实验环境下使用命令下载：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/js.cookie.js
```

### 3.2 使用方法

(1)创建一个 cookie，在整个站点中有效：

```js
Cookies.set("name", "value");
```

(2)创建一个 7 天后到期的 cookie，在整个站点上都有效：

```js
Cookies.set("name", "value", { expires: 7 });
```

(3)创建一个到期的 cookie，对当前页的路径有效：

```js
Cookies.set("name", "value", { expires: 7, path: "" });
```

(4)读取 cookie：

```js
Cookies.get("name"); // => 'value'
Cookies.get("nothing"); // => undefined
```

(5)读取所有可见的 cookie：

```js
Cookies.get(); // => { name: 'value' }
```

注意：不可能通过传递 cookie 属性之一来读取特定的 cookie:

```js
Cookies.get("foo", { domain: "sub.example.com" }); // `domain` won't have any effect...!
```

(6)删除 cookie：

```js
Cookies.remove("name");
```

(7)删除对当前页的路径有效的 cookie：

```js
Cookies.set("name", "value", { path: "" });
Cookies.remove("name"); // fail!
Cookies.remove("name", { path: "" }); // removed!
```

注意：注意：删除 cookie 时，必须传递用于设置 cookie 的完全相同的路径，域及安全选项。删除不存在的 cookie 不会引发任何异常，也不会返回任何值。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="js.cookie.js"></script>
  </head>
  <body>
    <p id="test"></p>
    <p id="test2"></p>

    <script>
      $(document).ready(function () {
        Cookies.set("name", "syl"); // 创建 cookie
        name = Cookies.get("name"); // 读取 cookie
        $("#test").text(name);
      });
    </script>
  </body>
</html>
```

运行效果为：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid897174labid9222timestamp1555661401395.png/wm)

另外大家可以 F12 进入调试模式在 Application 中的 cookies 中找到我们所存的 cookie 信息。

### 3.3 名称空间冲突

如果有任何与命名空间冲突的危险 Cookies，noConflict 方法将允许您定义新的命名空间并保留原始名称空间。这在第三方站点上运行脚本时尤其有用，例如作为小部件或 SDK 的一部分。

```js
// Assign the js-cookie api to a different variable and restore the original "window.Cookies"
var Cookies2 = Cookies.noConflict();
Cookies2.set("name", "value");
```

注：.noConflict 方法在使用 AMD 或 CommonJS 时是不必要的，因此在这些环境中不公开它。

#### json

JS-cookie 为 cookie 提供了不引人注目的 JSON 存储。

创建 cookie 时，可以传递数组或对象文本，而不是值中的字符串。如果这样做，js-cookie 将根据以下内容存储对象的字符串表示形式：JSON.stringify:

```js
Cookies.set("name", { foo: "bar" });
```

使用默认值读取 cookie 时 Cookies.getAPI，您将接收存储在 cookie 中的字符串表示：

```js
Cookies.get("name"); // => '{"foo":"bar"}'
Cookies.get(); // => { name: '{"foo":"bar"}' }
```

当使用 Cookies.getJSONAPI，您将收到存储在 cookie 中的字符串的解析表示形式。JSON.parse:

```js
Cookies.getJSON("name"); // => { foo: 'bar' }
Cookies.getJSON(); // => { name: { foo: 'bar' } }
```

注：支持 IE6-7(和 IE8 兼容模式)您需要包含 JSON-js 多填充：`https://github.com/douglascrockford/JSON-js`

## 四、jQuery UI 插件

下面我们来介绍 jQuery UI 插件。

### 4.1 jQuery UI 简介

jQuery UI 包含了许多维持状态的小部件（Widget），因此，它与典型的 jQuery 插件使用模式略有不同。所有的 jQuery UI 小部件（Widget）使用相同的模式，所以，只要您学会使用其中一个，您就知道如何使用其他的小部件（Widget）。

注：定义来自于 [jQuery UI 中文官网](http://www.jqueryui.org.cn/)。

### 4.2 jQuery UI 组件构成

jQuery UI 主要分为 3 个部分：交互、微件和效果库：

- `交互（Interactions）`，这里都是一些与鼠标交互相关的内容，包括缩放（Resizable） , 拖动（Draggable） , 放置（Droppable） , 选择（Selectable） , 排序（Sortable）等。

- `微件（Widgets）`，主要是一些界面的扩展，包括折叠面板（Accordion） , 自动完成（Autocomplete） , 按钮（Button） , 日期选择器（Datepicker） , 对话框（Dialog） , 菜单（Menu） , 进度条（Progressbar） , 滑块（Slider） , 旋转器（Spinner） , 标签页（Tabs） , 工具提示框（Tooltip）等，新版本的 UI 将包含更多的微件。

- `效果库（Effects）`用于提供丰富的动画效果，让动画不再局限于 jQuery 的 animate()方法。包括特效（Effect） , 显示（Show） , 隐藏（Hide） , 切换（Toggle） , 添加 Class（Add Class） , 移除 Class（Remove Class） , 切换 Class（Toggle Class） , 转换 Class（Switch Class） , 颜色动画（Color Animation）等。

### 4.3 下载使用

jQuery UI 插件的下载地址为：`https://jqueryui.com/download/`,进入下载页面如下所示：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555902101295)

然后我们可以自定义选择需要下载的组件，下载生成器（Download Builder）页面的第一栏列出了 jQuery UI 所有的 JavaScript 组件分类：核心（UI Core）、交互部件（Interactions）、小部件（Widgets）和效果库（Effects）。jQuery UI 中的一些组件依赖于其他组件，当选中这些组件时，它所依赖的其他组件也都会自动被选中。您所选的组件将会合并到一个 jQuery UI JavaScript 文件。另外需要注意的是 jQuery UI 的版本号对应的 jQuery 版本。

最后点击 Download 按钮，完成下载。您将得到一个包含您所选组件的自定义 zip 文件。比如我们这里下载的 1.12.1 版本解压后的效果图如下所示：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555902368933)

在网页中使用，通常需要引入这三个文件：

```js
<link rel="stylesheet" href="jquery-ui.css" />
<script type="text/javascript" src="jquery-3.3.1.js"></script>
<script src="jquery-ui.js"></script>
```

jquery-ui.css 和 jquery-ui.js 在环境中可以通过如下命令下载：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/jquery-ui.css
wget https://labfile.oss.aliyuncs.com/courses/22/jquery-ui.js

```

日期小部件的例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <input type="text" name="date" id="date" />

    <script>
      $(document).ready(function () {
        $("#date").datepicker();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555912151826)

jQuery UI 默认的图标：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/images.zip
unzip images.zip
```

### 4.4 交互（Interactions）

（1）排序（Sortable）

使用鼠标调整列表中或者网格中元素的排序。如需了解更多有关 sortable 交互的细节，请查看 [API 官方文档 可排序小部件（Sortable Widget）](http://www.jqueryui.org.cn/api/3727.html)。

- 默认功能：在任意的 DOM 元素上启用 `sortable` 功能。通过鼠标点击并拖拽元素到列表中的一个新的位置，其它条目会自动调整。默认情况下，`sortable` 各个条目共享 `draggable` 属性。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 60%;
      }

      #sortable li {
        margin: 0 3px 3px 3px;
        padding: 0.4em;
        padding-left: 1.5em;
        font-size: 1.4em;
        height: 18px;
      }

      #sortable li span {
        position: absolute;
        margin-left: -1.3em;
      }
    </style>
  </head>
  <body>
    <ul id="sortable">
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 1
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 2
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 3
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 4
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 5
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 6
      </li>
      <li class="ui-state-default">
        <span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 7
      </li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable").sortable();
        $("#sortable").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555913677823)

- 连接列表：

通过向 connectWith 选项传递一个选择器，来把一个列表中的元素排序到另一个列表中，反之亦然。最简单的办法是将带有某个 CSS class 的所有相关的列表分组，然后传递该 class 到 sortable 函数（比如:`connectWith: '.myclass'`）。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable1,
      #sortable2 {
        list-style-type: none;
        margin: 0;
        padding: 0 0 2.5em;
        float: left;
        margin-right: 10px;
      }

      #sortable1 li,
      #sortable2 li {
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
      }
    </style>
  </head>
  <body>
    <ul id="sortable1" class="connectedSortable">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default">Item 2</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
      <li class="ui-state-default">Item 5</li>
    </ul>

    <ul id="sortable2" class="connectedSortable">
      <li class="ui-state-highlight">Item 1</li>
      <li class="ui-state-highlight">Item 2</li>
      <li class="ui-state-highlight">Item 3</li>
      <li class="ui-state-highlight">Item 4</li>
      <li class="ui-state-highlight">Item 5</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable1, #sortable2")
          .sortable({
            connectWith: ".connectedSortable",
          })
          .disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555914493223)

- 标签页连接列表：通过放置列表项到顶部适当的标签页中，来把一个列表中的元素排序到另一个列表中，反之亦然。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable1 li,
      #sortable2 li {
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
      }
    </style>
  </head>
  <body>
    <div id="tabs">
      <ul>
        <li><a href="#tabs-1">Nunc tincidunt</a></li>
        <li><a href="#tabs-2">Proin dolor</a></li>
      </ul>
      <div id="tabs-1">
        <ul id="sortable1" class="connectedSortable ui-helper-reset">
          <li class="ui-state-default">Item 1</li>
          <li class="ui-state-default">Item 2</li>
          <li class="ui-state-default">Item 3</li>
          <li class="ui-state-default">Item 4</li>
          <li class="ui-state-default">Item 5</li>
        </ul>
      </div>
      <div id="tabs-2">
        <ul id="sortable2" class="connectedSortable ui-helper-reset">
          <li class="ui-state-highlight">Item 1</li>
          <li class="ui-state-highlight">Item 2</li>
          <li class="ui-state-highlight">Item 3</li>
          <li class="ui-state-highlight">Item 4</li>
          <li class="ui-state-highlight">Item 5</li>
        </ul>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#sortable1, #sortable2").sortable().disableSelection();

        var $tabs = $("#tabs").tabs();

        var $tab_items = $("ul:first li", $tabs).droppable({
          accept: ".connectedSortable li",
          hoverClass: "ui-state-hover",
          drop: function (event, ui) {
            var $item = $(this);
            var $list = $($item.find("a").attr("href")).find(
              ".connectedSortable"
            );

            ui.draggable.hide("slow", function () {
              $tabs.tabs("option", "active", $tab_items.index($item));
              $(this).appendTo($list).show("slow");
            });
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555914856843)

- 延迟开始：通过时间延迟和距离延迟来防止意外的排序。通过 `delay` 选项设置开始排序之前必须拖拽的毫秒数。通过 `distance` 选项设置开始排序之前必须拖拽的像素数。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable1,
      #sortable2 {
        list-style-type: none;
        margin: 0;
        padding: 0;
        margin-bottom: 15px;
        zoom: 1;
      }

      #sortable1 li,
      #sortable2 li {
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 95%;
      }
    </style>
  </head>
  <body>
    <h3 class="docs">时间延迟 300ms：</h3>

    <ul id="sortable1">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default">Item 2</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
    </ul>

    <h3 class="docs">距离延迟 15px：</h3>

    <ul id="sortable2">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default">Item 2</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable1").sortable({
          delay: 300,
        });

        $("#sortable2").sortable({
          distance: 15,
        });

        $("li").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555915229169)

- 显示为网格：让 sortable 条目显示为网格，使用 CSS 使得它们带有相同的尺寸且浮动显示。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 450px;
      }

      #sortable li {
        margin: 3px 3px 3px 0;
        padding: 1px;
        float: left;
        width: 100px;
        height: 90px;
        font-size: 4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <ul id="sortable">
      <li class="ui-state-default">1</li>
      <li class="ui-state-default">2</li>
      <li class="ui-state-default">3</li>
      <li class="ui-state-default">4</li>
      <li class="ui-state-default">5</li>
      <li class="ui-state-default">6</li>
      <li class="ui-state-default">7</li>
      <li class="ui-state-default">8</li>
      <li class="ui-state-default">9</li>
      <li class="ui-state-default">10</li>
      <li class="ui-state-default">11</li>
      <li class="ui-state-default">12</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable").sortable();
        $("#sortable").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555915379939)

- 放置占位符：当拖拽一个 sortable 条目到一个新的位置时，其他条目将为该条目腾出空间。向 `placeholder` 选项传递一个 class 来定义可视化的空白的样式。使用布尔值的 `forcePlaceholderSize` 选项来设置占位符的尺寸。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 60%;
      }

      #sortable li {
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        height: 1.5em;
      }

      html > body #sortable li {
        height: 1.5em;
        line-height: 1.2em;
      }

      .ui-state-highlight {
        height: 1.5em;
        line-height: 1.2em;
      }
    </style>
  </head>
  <body>
    <ul id="sortable">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default">Item 2</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
      <li class="ui-state-default">Item 5</li>
      <li class="ui-state-default">Item 6</li>
      <li class="ui-state-default">Item 7</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable").sortable({
          placeholder: "ui-state-highlight",
        });
        $("#sortable").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555915636798)

- 处理空列表：通过把 选项设置为 false，来阻止一个列表中的所有条目被放置到一个单独的空列表中。默认情况下，sortable 条目可被放置到空的列表中。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable1,
      #sortable2,
      #sortable3 {
        list-style-type: none;
        margin: 0;
        padding: 0;
        float: left;
        margin-right: 10px;
        background: #eee;
        padding: 5px;
        width: 143px;
      }

      #sortable1 li,
      #sortable2 li,
      #sortable3 li {
        margin: 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
      }
    </style>
  </head>
  <body>
    <ul id="sortable1" class="droptrue">
      <li class="ui-state-default">可被放置到..</li>
      <li class="ui-state-default">..一个空列表中</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
      <li class="ui-state-default">Item 5</li>
    </ul>

    <ul id="sortable2" class="dropfalse">
      <li class="ui-state-highlight">不可被放置到..</li>
      <li class="ui-state-highlight">..一个空列表中</li>
      <li class="ui-state-highlight">Item 3</li>
      <li class="ui-state-highlight">Item 4</li>
      <li class="ui-state-highlight">Item 5</li>
    </ul>

    <ul id="sortable3" class="droptrue"></ul>

    <br style="clear:both" />

    <script>
      $(document).ready(function () {
        $("ul.droptrue").sortable({
          connectWith: "ul",
        });

        $("ul.dropfalse").sortable({
          connectWith: "ul",
          dropOnEmpty: false,
        });

        $("#sortable1, #sortable2, #sortable3").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555915921211)

- 包含/排除条目:指定通过向 items 选项传递一个 jQuery 选择器哪些项目可排序。该选项之外的项目则是不可排序的，同时它们也不是 sortable 条目的有效的目标。如果只想防止特定的条目排序，则向 cancel 选项传递一个 jQuery 选择器。已取消的条目依然是其他条目的有效的排序目标。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #sortable1,
      #sortable2 {
        list-style-type: none;
        margin: 0;
        padding: 0;
        zoom: 1;
      }

      #sortable1 li,
      #sortable2 li {
        margin: 0 5px 5px 5px;
        padding: 3px;
        width: 90%;
      }
    </style>
  </head>
  <body>
    <h3 class="docs">指定哪个条目是 sortable：</h3>

    <ul id="sortable1">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default ui-state-disabled">
        （我不是 sortable 或者一个放置目标）
      </li>
      <li class="ui-state-default ui-state-disabled">
        （我不是 sortable 或者一个放置目标）
      </li>
      <li class="ui-state-default">Item 4</li>
    </ul>

    <h3 class="docs">取消排序（但作为放置目标）：</h3>

    <ul id="sortable2">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default ui-state-disabled">（我不是 sortable）</li>
      <li class="ui-state-default ui-state-disabled">（我不是 sortable）</li>
      <li class="ui-state-default">Item 4</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable1").sortable({
          items: "li:not(.ui-state-disabled)",
        });

        $("#sortable2").sortable({
          cancel: ".ui-state-disabled",
        });

        $("#sortable1 li, #sortable2 li").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555916179338)

- 门户组件（Portlets）:启用门户组件（样式化的 div）作为 sortable，并使用 connectWith 选项来允许在列之间进行排序。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      body {
        min-width: 520px;
      }

      .column {
        width: 170px;
        float: left;
        padding-bottom: 100px;
      }

      .portlet {
        margin: 0 1em 1em 0;
        padding: 0.3em;
      }

      .portlet-header {
        padding: 0.2em 0.3em;
        margin-bottom: 0.5em;
        position: relative;
      }

      .portlet-toggle {
        position: absolute;
        top: 50%;
        right: 0;
        margin-top: -8px;
      }

      .portlet-content {
        padding: 0.4em;
      }

      .portlet-placeholder {
        border: 1px dotted black;
        margin: 0 1em 1em 0;
        height: 50px;
      }
    </style>
  </head>
  <body>
    <div class="column">
      <div class="portlet">
        <div class="portlet-header">订阅</div>
        <div class="portlet-content">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        </div>
      </div>

      <div class="portlet">
        <div class="portlet-header">新闻</div>
        <div class="portlet-content">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        </div>
      </div>
    </div>

    <div class="column">
      <div class="portlet">
        <div class="portlet-header">购物</div>
        <div class="portlet-content">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        </div>
      </div>
    </div>

    <div class="column">
      <div class="portlet">
        <div class="portlet-header">链接</div>
        <div class="portlet-content">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        </div>
      </div>

      <div class="portlet">
        <div class="portlet-header">图像</div>
        <div class="portlet-content">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $(".column").sortable({
          connectWith: ".column",
          handle: ".portlet-header",
          cancel: ".portlet-toggle",
          placeholder: "portlet-placeholder ui-corner-all",
        });

        $(".portlet")
          .addClass(
            "ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"
          )
          .find(".portlet-header")
          .addClass("ui-widget-header ui-corner-all")
          .prepend(
            "<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>"
          );

        $(".portlet-toggle").click(function () {
          var icon = $(this);
          icon.toggleClass("ui-icon-minusthick ui-icon-plusthick");
          icon.closest(".portlet").find(".portlet-content").toggle();
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555916856865)

（2）选择（Selectable）

使用鼠标选择单个元素或一组元素。如需了解更多有关 selectable 交互的细节，请查看 [官方 API 文档 可选择小部件（Selectable Widget）](http://www.jqueryui.org.cn/api/3726.html)。

- 默认功能：在某个 DOM 元素上或者一组元素上启用 selectable 功能。通过鼠标拖拽选择条目。按住 Ctrl 键，选择多个不相邻的条目。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #feedback {
        font-size: 1.4em;
      }

      #selectable .ui-selecting {
        background: #feca40;
      }

      #selectable .ui-selected {
        background: #f39814;
        color: white;
      }

      #selectable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 60%;
      }

      #selectable li {
        margin: 3px;
        padding: 0.4em;
        font-size: 1.4em;
        height: 18px;
      }
    </style>
  </head>
  <body>
    <ol id="selectable">
      <li class="ui-widget-content">Item 1</li>
      <li class="ui-widget-content">Item 2</li>
      <li class="ui-widget-content">Item 3</li>
      <li class="ui-widget-content">Item 4</li>
      <li class="ui-widget-content">Item 5</li>
      <li class="ui-widget-content">Item 6</li>
      <li class="ui-widget-content">Item 7</li>
    </ol>

    <script>
      $(document).ready(function () {
        $("#selectable").selectable();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555917206240)

- 显示为网格：让 selectable 条目显示为网格，使用 CSS 使得它们带有相同的尺寸且浮动显示。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #feedback {
        font-size: 1.4em;
      }

      #selectable .ui-selecting {
        background: #feca40;
      }

      #selectable .ui-selected {
        background: #f39814;
        color: white;
      }

      #selectable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 450px;
      }

      #selectable li {
        margin: 3px;
        padding: 1px;
        float: left;
        width: 100px;
        height: 80px;
        font-size: 4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <ol id="selectable">
      <li class="ui-state-default">1</li>
      <li class="ui-state-default">2</li>
      <li class="ui-state-default">3</li>
      <li class="ui-state-default">4</li>
      <li class="ui-state-default">5</li>
      <li class="ui-state-default">6</li>
      <li class="ui-state-default">7</li>
      <li class="ui-state-default">8</li>
      <li class="ui-state-default">9</li>
      <li class="ui-state-default">10</li>
      <li class="ui-state-default">11</li>
      <li class="ui-state-default">12</li>
    </ol>
    <script>
      $(document).ready(function () {
        $("#selectable").selectable();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555917386859)

- 序列化：写一个函数，在 stop 事件发生时触发，来收集被选中条目的索引值。呈现这些值作为反馈，或者以数据字符串形式进行传递。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #feedback {
        font-size: 1.4em;
      }

      #selectable .ui-selecting {
        background: #feca40;
      }

      #selectable .ui-selected {
        background: #f39814;
        color: white;
      }

      #selectable {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 60%;
      }

      #selectable li {
        margin: 3px;
        padding: 0.4em;
        font-size: 1.4em;
        height: 18px;
      }
    </style>
  </head>
  <body>
    <p id="feedback">
      <span>您已经选择了：</span> <span id="select-result">无</span>。
    </p>

    <ol id="selectable">
      <li class="ui-widget-content">Item 1</li>
      <li class="ui-widget-content">Item 2</li>
      <li class="ui-widget-content">Item 3</li>
      <li class="ui-widget-content">Item 4</li>
      <li class="ui-widget-content">Item 5</li>
      <li class="ui-widget-content">Item 6</li>
    </ol>

    <script>
      $(document).ready(function () {
        $("#selectable").selectable({
          stop: function () {
            var result = $("#select-result").empty();
            $(".ui-selected", this).each(function () {
              var index = $("#selectable li").index(this);
              result.append(" #" + (index + 1));
            });
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555917539407)

（3）放置（Droppable）

为可拖拽小部件创建目标。如需了解更多有关 droppable 交互的细节，请查看 [官方 API 文档 可放置小部件（Droppable Widget）](http://www.jqueryui.org.cn/api/3723.html)。

- 默认功能:在任意的 DOM 元素上启用 droppable 功能，并为可拖拽小部件创建目标。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 10px 10px 10px 0;
      }

      #droppable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>请把我拖拽到目标处！</p>
    </div>

    <div id="droppable" class="ui-widget-header">
      <p>请放置在这里！</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable();
        $("#droppable").droppable({
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("p").html("Dropped!");
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555917794707)

- 接受：使用 accept 选项指定目标 droppable 接受哪一个元素（或元素组）。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #droppable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }

      #draggable,
      #draggable-nonvalid {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 10px 10px 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="draggable-nonvalid" class="ui-widget-content">
      <p>我是不能被放置的 draggable</p>
    </div>

    <div id="draggable" class="ui-widget-content">
      <p>请拖拽我到目标</p>
    </div>

    <div id="droppable" class="ui-widget-header">
      <p>accept: '#draggable'</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable, #draggable-nonvalid").draggable();
        $("#droppable").droppable({
          accept: "#draggable",
          activeClass: "ui-state-hover",
          hoverClass: "ui-state-active",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("p").html("Dropped!");
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555918109492)

- 防止传播：当使用嵌套的 droppable 时 — 例如，您可以有一个树形的可编辑的目录结构，带有文件夹和文档节点 — greedy 选项设置为 true 来防止当 draggable 被放置在子节点（droppable）上时的事件传播。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable {
        width: 100px;
        height: 40px;
        padding: 0.5em;
        float: left;
        margin: 10px 10px 10px 0;
      }

      #droppable,
      #droppable2 {
        width: 230px;
        height: 120px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }

      #droppable-inner,
      #droppable2-inner {
        width: 170px;
        height: 60px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>请拖拽我到目标</p>
    </div>

    <div id="droppable" class="ui-widget-header">
      <p>外部 droppable</p>
      <div id="droppable-inner" class="ui-widget-header">
        <p>内部 droppable（不带有 greedy）</p>
      </div>
    </div>

    <div id="droppable2" class="ui-widget-header">
      <p>外部 droppable</p>
      <div id="droppable2-inner" class="ui-widget-header">
        <p>内部 droppable（带有 greedy）</p>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        $("#draggable").draggable();

        $("#droppable, #droppable-inner").droppable({
          activeClass: "ui-state-hover",
          hoverClass: "ui-state-active",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("> p").html("Dropped!");
            return false;
          },
        });

        $("#droppable2, #droppable2-inner").droppable({
          greedy: true,
          activeClass: "ui-state-hover",
          hoverClass: "ui-state-active",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("> p").html("Dropped!");
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555918380726)

- 还原 draggable 的位置：当带有布尔值 revert 选项的 draggable 停止拖拽时，返回 draggable（或它的助手）到原始位置。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2 {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 10px 10px 10px 0;
      }

      #droppable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>当被放置在目标上时还原</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>当未被放置在目标上时还原</p>
    </div>

    <div id="droppable" class="ui-widget-header">
      <p>请放置在这里</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          revert: "valid",
        });
        $("#draggable2").draggable({
          revert: "invalid",
        });

        $("#droppable").droppable({
          activeClass: "ui-state-default",
          hoverClass: "ui-state-hover",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("p").html("已放置！");
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555918644301)

- 购物车演示：演示如何使用折叠面板来展示产品的目录结构，使用拖拽和放置来添加产品到购物车，购物车中的产品是可排序的。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      h1 {
        padding: 0.2em;
        margin: 0;
      }

      #products {
        float: left;
        width: 500px;
        margin-right: 2em;
      }

      #cart {
        width: 200px;
        float: left;
        margin-top: 1em;
      }

      /* 定义列表样式，以便最大化 droppable */
      #cart ol {
        margin: 0;
        padding: 1em 0 1em 3em;
      }
    </style>
  </head>
  <body>
    <div id="products">
      <h1 class="ui-widget-header">产品</h1>
      <div id="catalog">
        <h2><a href="#">T-Shirts</a></h2>
        <div>
          <ul>
            <li>Lolcat Shirt</li>
            <li>Cheezeburger Shirt</li>
            <li>Buckit Shirt</li>
          </ul>
        </div>
        <h2><a href="#">Bags</a></h2>
        <div>
          <ul>
            <li>Zebra Striped</li>
            <li>Black Leather</li>
            <li>Alligator Leather</li>
          </ul>
        </div>
        <h2><a href="#">Gadgets</a></h2>
        <div>
          <ul>
            <li>iPhone</li>
            <li>iPod</li>
            <li>iPad</li>
          </ul>
        </div>
      </div>
    </div>

    <div id="cart">
      <h1 class="ui-widget-header">购物车</h1>
      <div class="ui-widget-content">
        <ol>
          <li class="placeholder">添加产品到这里</li>
        </ol>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#catalog").accordion();
        $("#catalog li").draggable({
          appendTo: "body",
          helper: "clone",
        });
        $("#cart ol")
          .droppable({
            activeClass: "ui-state-default",
            hoverClass: "ui-state-hover",
            accept: ":not(.ui-sortable-helper)",
            drop: function (event, ui) {
              $(this).find(".placeholder").remove();
              $("<li></li>").text(ui.draggable.text()).appendTo(this);
            },
          })
          .sortable({
            items: "li:not(.placeholder)",
            sort: function () {
              // 获取由 droppable 与 sortable 交互而加入的条目
              // 使用 connectWithSortable 可以解决这个问题，但不允许您自定义 active/hoverClass 选项
              $(this).removeClass("ui-state-default");
            },
          });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555918777512)

- 简单的照片管理器:您可以通过拖拽照片到回收站或者点击回收站图标来删除照片。您可以通过拖拽照片到相册或者点击回收利用图标来还原照片。您可以通过点击缩放图标来查看大图。jQuery UI 对话框（dialog）部件用于模态窗口。

获取所需要的图片：

```bash
wget https://labfile.oss.aliyuncs.com/courses/22/small.jpg
wget https://labfile.oss.aliyuncs.com/courses/22/big.jpg
```

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #gallery {
        float: left;
        width: 65%;
        min-height: 12em;
      }

      .gallery.custom-state-active {
        background: #eee;
      }

      .gallery li {
        float: left;
        width: 96px;
        padding: 0.4em;
        margin: 0 0.4em 0.4em 0;
        text-align: center;
      }

      .gallery li h5 {
        margin: 0 0 0.4em;
        cursor: move;
      }

      .gallery li a {
        float: right;
      }

      .gallery li a.ui-icon-zoomin {
        float: left;
      }

      .gallery li img {
        width: 100%;
        cursor: move;
      }

      #trash {
        float: right;
        width: 32%;
        min-height: 18em;
        padding: 1%;
      }

      #trash h4 {
        line-height: 16px;
        margin: 0 0 0.4em;
      }

      #trash h4 .ui-icon {
        float: left;
      }

      #trash .gallery h5 {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="ui-widget ui-helper-clearfix">
      <ul id="gallery" class="gallery ui-helper-reset ui-helper-clearfix">
        <li class="ui-widget-content ui-corner-tr">
          <h5 class="ui-widget-header">High Tatras</h5>
          <img
            src="small.jpg"
            alt="High Tatras 的最高峰"
            width="96"
            height="72"
          />
          <a href="big.jpg" title="查看大图" class="ui-icon ui-icon-zoomin"
            >查看大图</a
          >
          <a
            href="link/to/trash/script/when/we/have/js/off"
            title="删除图像"
            class="ui-icon ui-icon-trash"
            >删除图像</a
          >
        </li>
        <li class="ui-widget-content ui-corner-tr">
          <h5 class="ui-widget-header">High Tatras 2</h5>
          <img src="small.jpg" alt="绿山湖畔的小屋" width="96" height="72" />
          <a href="big.jpg" title="查看大图" class="ui-icon ui-icon-zoomin"
            >查看大图</a
          >
          <a
            href="link/to/trash/script/when/we/have/js/off"
            title="删除图像"
            class="ui-icon ui-icon-trash"
            >删除图像</a
          >
        </li>
        <li class="ui-widget-content ui-corner-tr">
          <h5 class="ui-widget-header">High Tatras 3</h5>
          <img src="small.jpg" alt="计划登高" width="96" height="72" />
          <a href="big.jpg" title="查看大图" class="ui-icon ui-icon-zoomin"
            >查看大图</a
          >
          <a
            href="link/to/trash/script/when/we/have/js/off"
            title="删除图像"
            class="ui-icon ui-icon-trash"
            >删除图像</a
          >
        </li>
        <li class="ui-widget-content ui-corner-tr">
          <h5 class="ui-widget-header">High Tatras 4</h5>
          <img
            src="small.jpg"
            alt="在 Kozi kopka 的顶部"
            width="96"
            height="72"
          />
          <a href="big.jpg" title="查看大图" class="ui-icon ui-icon-zoomin"
            >查看大图</a
          >
          <a
            href="link/to/trash/script/when/we/have/js/off"
            title="删除图像"
            class="ui-icon ui-icon-trash"
            >删除图像</a
          >
        </li>
      </ul>

      <div id="trash" class="ui-widget-content ui-state-default">
        <h4 class="ui-widget-header">
          <span class="ui-icon ui-icon-trash">回收站</span> 回收站
        </h4>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        // 这是相册和回收站
        var $gallery = $("#gallery"),
          $trash = $("#trash");

        // 让相册的条目可拖拽
        $("li", $gallery).draggable({
          cancel: "a.ui-icon", // 点击一个图标不会启动拖拽
          revert: "invalid", // 当未被放置时，条目会还原回它的初始位置
          containment: "document",
          helper: "clone",
          cursor: "move",
        });

        // 让回收站可放置，接受相册的条目
        $trash.droppable({
          accept: "#gallery > li",
          activeClass: "ui-state-highlight",
          drop: function (event, ui) {
            deleteImage(ui.draggable);
          },
        });

        // 让相册可放置，接受回收站的条目
        $gallery.droppable({
          accept: "#trash li",
          activeClass: "custom-state-active",
          drop: function (event, ui) {
            recycleImage(ui.draggable);
          },
        });

        // 图像删除功能
        var recycle_icon =
          "<a href='link/to/recycle/script/when/we/have/js/off' title='还原图像' class='ui-icon ui-icon-refresh'>还原图像</a>";

        function deleteImage($item) {
          $item.fadeOut(function () {
            var $list = $("ul", $trash).length
              ? $("ul", $trash)
              : $("<ul class='gallery ui-helper-reset'/>").appendTo($trash);

            $item.find("a.ui-icon-trash").remove();
            $item
              .append(recycle_icon)
              .appendTo($list)
              .fadeIn(function () {
                $item
                  .animate({
                    width: "48px",
                  })
                  .find("img")
                  .animate({
                    height: "36px",
                  });
              });
          });
        }

        // 图像还原功能
        var trash_icon =
          "<a href='link/to/trash/script/when/we/have/js/off' title='删除图像' class='ui-icon ui-icon-trash'>删除图像</a>";

        function recycleImage($item) {
          $item.fadeOut(function () {
            $item
              .find("a.ui-icon-refresh")
              .remove()
              .end()
              .css("width", "96px")
              .append(trash_icon)
              .find("img")
              .css("height", "72px")
              .end()
              .appendTo($gallery)
              .fadeIn();
          });
        }

        // 图像预览功能，演示 ui.dialog 作为模态窗口使用
        function viewLargerImage($link) {
          var src = $link.attr("href"),
            title = $link.siblings("img").attr("alt"),
            $modal = $("img[src$='" + src + "']");

          if ($modal.length) {
            $modal.dialog("open");
          } else {
            var img = $(
              "<img alt='" +
                title +
                "' width='384' height='288' style='display: none; padding: 8px;' />"
            )
              .attr("src", src)
              .appendTo("body");
            setTimeout(function () {
              img.dialog({
                title: title,
                width: 400,
                modal: true,
              });
            }, 1);
          }
        }

        // 通过事件代理解决图标行为
        $("ul.gallery > li").click(function (event) {
          var $item = $(this),
            $target = $(event.target);

          if ($target.is("a.ui-icon-trash")) {
            deleteImage($item);
          } else if ($target.is("a.ui-icon-zoomin")) {
            viewLargerImage($target);
          } else if ($target.is("a.ui-icon-refresh")) {
            recycleImage($item);
          }

          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555919697444)

- 视觉反馈：当悬停在 droppable 上时，或者当 droppable 被激活（即一个可接受的 draggable 被放置在 droppable 上）时，改变 droppable 的外观。使用 hoverClass 或 activeClass 选项来分别指定 class。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2 {
        width: 90px;
        height: 90px;
        padding: 0.5em;
        float: left;
        margin: 10px 10px 10px 0;
      }

      #droppable,
      #droppable2 {
        width: 120px;
        height: 120px;
        padding: 0.5em;
        float: left;
        margin: 10px;
      }

      h3 {
        clear: left;
      }
    </style>
  </head>
  <body>
    <h3>当悬停在 droppable 上时的反馈：</h3>

    <div id="draggable" class="ui-widget-content">
      <p>请拖拽我到目标</p>
    </div>

    <div id="droppable" class="ui-widget-header">
      <p>请放置在这里</p>
    </div>

    <h3>当激活 draggable 时的反馈：</h3>

    <div id="draggable2" class="ui-widget-content">
      <p>请拖拽我到目标</p>
    </div>

    <div id="droppable2" class="ui-widget-header">
      <p>请放置在这里</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable();
        $("#droppable").droppable({
          hoverClass: "ui-state-hover",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("p").html("Dropped!");
          },
        });

        $("#draggable2").draggable();
        $("#droppable2").droppable({
          accept: "#draggable2",
          activeClass: "ui-state-default",
          drop: function (event, ui) {
            $(this).addClass("ui-state-highlight").find("p").html("Dropped!");
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555919955365)

（4）拖动（Draggable）

允许使用鼠标移动元素。如需了解更多有关 draggable 交互的细节，请查看 [官方 API 文档 可拖拽小部件（Draggable Widget）](http://www.jqueryui.org.cn/api/3722.html)。

- 默认功能：在任意的 DOM 元素上启用 draggable 功能。通过鼠标点击并在视区中拖动来移动 draggable 对象。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>请拖动我！</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555920427080)

- 自动滚动：当 draggable 移动到视区外时自动滚动文档。设置 scroll 选项为 true 来启用自动滚动，当滚动触发时进行微调，滚动速度是通过 scrollSensitivity 和 scrollSpeed 选项设置的。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2,
      #draggable3 {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>Scroll 设置为 true，默认设置</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>scrollSensitivity 设置为 100</p>
    </div>

    <div id="draggable3" class="ui-widget-content">
      <p>scrollSpeed 设置为 100</p>
    </div>

    <div style="height: 5000px; width: 1px;"></div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          scroll: true,
        });
        $("#draggable2").draggable({
          scroll: true,
          scrollSensitivity: 100,
        });
        $("#draggable3").draggable({
          scroll: true,
          scrollSpeed: 100,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555920669131)

- 约束运动：通过定义 draggable 区域的边界来约束每个 draggable 的运动。设置 axis 选项来限制 draggable 的路径为 x 轴或者 y 轴，或者使用 containment 选项来指定一个父级的 DOM 元素或者一个 jQuery 选择器，比如 'document.'。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .draggable {
        width: 90px;
        height: 90px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }

      #draggable,
      #draggable2 {
        margin-bottom: 20px;
      }

      #draggable {
        cursor: n-resize;
      }

      #draggable2 {
        cursor: e-resize;
      }

      #containment-wrapper {
        width: 95%;
        height: 150px;
        border: 2px solid #ccc;
        padding: 10px;
      }

      h3 {
        clear: left;
      }
    </style>
  </head>
  <body>
    <h3>沿着轴约束运动：</h3>

    <div id="draggable" class="draggable ui-widget-content">
      <p>只能垂直拖拽</p>
    </div>

    <div id="draggable2" class="draggable ui-widget-content">
      <p>只能水平拖拽</p>
    </div>

    <h3>或者在另一个 DOM 元素中约束运动：</h3>
    <div id="containment-wrapper">
      <div id="draggable3" class="draggable ui-widget-content">
        <p>我被约束在盒子里</p>
      </div>

      <div class="draggable ui-widget-content">
        <p id="draggable5" class="ui-widget-header">我被约束在父元素内</p>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          axis: "y",
        });
        $("#draggable2").draggable({
          axis: "x",
        });

        $("#draggable3").draggable({
          containment: "#containment-wrapper",
          scroll: false,
        });
        $("#draggable5").draggable({
          containment: "parent",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555920951551)

- 光标样式：当拖拽对象时定位光标。默认情况下，光标是出现在被拖拽对象的中间。使用 cursorAt 选项来指定相对于 draggable 的另一个位置（指定一个相对于 top、right、bottom、left 的像素值）。通过提供一个带有有效的 CSS 光标值的 cursor 选项，来自定义光标的外观。有效的 CSS 光标值包括：default、move、pointer、crosshair，等等。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2,
      #draggable3 {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>我总是在中间（相对于鼠标）</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>我的光标是在 left -5 和 top -5</p>
    </div>

    <div id="draggable3" class="ui-widget-content">
      <p>我的光标位置只控制了 'bottom' 值</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          cursor: "move",
          cursorAt: {
            top: 56,
            left: 56,
          },
        });
        $("#draggable2").draggable({
          cursor: "crosshair",
          cursorAt: {
            top: -5,
            left: -5,
          },
        });
        $("#draggable3").draggable({
          cursorAt: {
            bottom: 0,
          },
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555921099611)

- 延迟开始：通过 delay 选项设置延迟开始拖拽的毫秒数。通过 distance 选项设置光标被按下且拖拽指定像素后才允许拖拽。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2 {
        width: 120px;
        height: 120px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>只有把我拖拽了 20 像素后，拖拽才开始</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>不管 distance 是多少，您都必须拖拽并等待 1000ms 后拖拽才开始</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          distance: 20,
        });
        $("#draggable2").draggable({
          delay: 1000,
        });
        $(".ui-draggable").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555921279732)

- 事件：draggable 上的 start、drag 和 stop 事件。拖拽开始时触发 start 事件，拖拽期间触发 drag 事件，拖拽停止时触发 stop 事件。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable {
        width: 16em;
        padding: 0 1em;
      }

      #draggable ul li {
        margin: 1em 0;
        padding: 0.5em 0;
      }

      * html #draggable ul li {
        height: 1%;
      }

      #draggable ul li span.ui-icon {
        float: left;
      }

      #draggable ul li span.count {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget ui-widget-content">
      <p>请拖拽我，触发一连串的事件。</p>

      <ul class="ui-helper-reset">
        <li id="event-start" class="ui-state-default ui-corner-all">
          <span class="ui-icon ui-icon-play"></span>"start" 被调用
          <span class="count">0</span>x
        </li>
        <li id="event-drag" class="ui-state-default ui-corner-all">
          <span class="ui-icon ui-icon-arrow-4"></span>"drag" 被调用
          <span class="count">0</span>x
        </li>
        <li id="event-stop" class="ui-state-default ui-corner-all">
          <span class="ui-icon ui-icon-stop"></span>"stop" 被调用
          <span class="count">0</span>x
        </li>
      </ul>
    </div>

    <script>
      $(document).ready(function () {
        var $start_counter = $("#event-start"),
          $drag_counter = $("#event-drag"),
          $stop_counter = $("#event-stop"),
          counts = [0, 0, 0];

        $("#draggable").draggable({
          start: function () {
            counts[0]++;
            updateCounterStatus($start_counter, counts[0]);
          },
          drag: function () {
            counts[1]++;
            updateCounterStatus($drag_counter, counts[1]);
          },
          stop: function () {
            counts[2]++;
            updateCounterStatus($stop_counter, counts[2]);
          },
        });

        function updateCounterStatus($event_counter, new_count) {
          // 首先更新视觉状态...
          if (!$event_counter.hasClass("ui-state-hover")) {
            $event_counter
              .addClass("ui-state-hover")
              .siblings()
              .removeClass("ui-state-hover");
          }
          // ...然后更新数字
          $("span.count", $event_counter).text(new_count);
        }
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555921466195)

- Handles：只有当光标在 draggable 上指定部分时才允许拖拽。使用 handle 选项来指定用于拖拽对象的元素（或元素组）的 jQuery 选择器。或者当光标在 draggable 内指定元素（或元素组）上时不允许拖拽。使用 handle 选项来指定取消拖拽功能的 jQuery 选择器。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2 {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }

      #draggable p {
        cursor: move;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p class="ui-widget-header">您只可以在这个范围内拖拽我</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>您可以把我向四周拖拽&hellip;</p>
      <p class="ui-widget-header">&hellip;但是您不可以在这个范围内拖拽我</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          handle: "p",
        });
        $("#draggable2").draggable({
          cancel: "p.ui-widget-header",
        });
        $("div, p").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555921648120)

- 还原位置：当带有布尔值 revert 选项的 draggable 停止拖拽时，返回 draggable（或它的助手）到原始位置。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2 {
        width: 100px;
        height: 100px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="draggable" class="ui-widget-content">
      <p>还原</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>还原助手</p>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          revert: true,
        });
        $("#draggable2").draggable({
          revert: true,
          helper: "clone",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555921793998)

- 视觉反馈：给用户提供反馈，就像以助手方式拖拽对象一样。helper 选项接受值 'original'（用光标移动 draggable 对象），'clone'（用光标移动 draggable 的副本），或者一个返回 DOM 元素的函数（该元素在拖拽期间显示在光标附近）。通过 opacity 选项控制助手的透明度。

为了区别哪一个 draggable 正在被拖拽，让在运动中的 draggable 保持最前。如果正在拖拽，使用 zIndex 选项来设置助手的高度 z-index，或者使用 stack 选项来确保当停止拖拽时，最后一个被拖拽的项目总是出现在同组其他项目的上面。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #draggable,
      #draggable2,
      #draggable3,
      #set div {
        width: 90px;
        height: 90px;
        padding: 0.5em;
        float: left;
        margin: 0 10px 10px 0;
      }

      #draggable,
      #draggable2,
      #draggable3 {
        margin-bottom: 20px;
      }

      #set {
        clear: both;
        float: left;
        width: 368px;
        height: 120px;
      }

      p {
        clear: both;
        margin: 0;
        padding: 1em 0;
      }
    </style>
  </head>
  <body>
    <h3 class="docs">助手：</h3>

    <div id="draggable" class="ui-widget-content">
      <p>原始的</p>
    </div>

    <div id="draggable2" class="ui-widget-content">
      <p>半透明的克隆</p>
    </div>

    <div id="draggable3" class="ui-widget-content">
      <p>自定义助手（与 cursorAt 结合）</p>
    </div>

    <h3 class="docs">堆叠：</h3>
    <div id="set">
      <div class="ui-widget-content">
        <p>我们是 draggables..</p>
      </div>

      <div class="ui-widget-content">
        <p>..它的 z-index 是自动控制的..</p>
      </div>

      <div class="ui-widget-content">
        <p>..带有 stack 选项。</p>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#draggable").draggable({
          helper: "original",
        });
        $("#draggable2").draggable({
          opacity: 0.7,
          helper: "clone",
        });
        $("#draggable3").draggable({
          cursor: "move",
          cursorAt: {
            top: -12,
            left: -20,
          },
          helper: function (event) {
            return $("<div class='ui-widget-header'>I'm a custom helper</div>");
          },
        });
        $("#set div").draggable({
          stack: "#set div",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555922741322)

- jQuery UI Draggable + Sortable：Draggable 与 Sortable 的无缝交互。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        margin-bottom: 10px;
      }

      li {
        margin: 5px;
        padding: 5px;
        width: 150px;
      }
    </style>
  </head>
  <body>
    <ul>
      <li id="draggable" class="ui-state-highlight">请拖拽我</li>
    </ul>

    <ul id="sortable">
      <li class="ui-state-default">Item 1</li>
      <li class="ui-state-default">Item 2</li>
      <li class="ui-state-default">Item 3</li>
      <li class="ui-state-default">Item 4</li>
      <li class="ui-state-default">Item 5</li>
    </ul>

    <script>
      $(document).ready(function () {
        $("#sortable").sortable({
          revert: true,
        });
        $("#draggable").draggable({
          connectToSortable: "#sortable",
          helper: "clone",
          revert: "invalid",
        });
        $("ul, li").disableSelection();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190422-1555922931855)

（5）缩放（Resizable）

使用鼠标改变元素的尺寸。如需了解更多有关 resizable 交互的细节，请查看 [官方 API 文档 可调整尺寸小部件（Resizable Widget）](http://www.jqueryui.org.cn/api/3725.html)。

- 默认功能：在任意的 DOM 元素上启用 resizable 功能。通过鼠标拖拽右边或底边的边框到所需的宽度或高度。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">缩放（Resizable）</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555984430278)

- 动画:使用 animate 选项（布尔值）使缩放行为动画化。当该选项设置为 true 时，拖拽轮廓到所需的位置，元素会在拖拽停止时以动画形式调整到该尺寸。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }

      .ui-resizable-helper {
        border: 1px dotted gray;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">动画</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          animate: true,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555984656564)

- 限制缩放区域:定义缩放区域的边界。使用 containment 选项来指定一个父级的 DOM 元素或一个 jQuery 选择器，比如 'document.'。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #container {
        width: 300px;
        height: 300px;
      }

      #container h3 {
        text-align: center;
        margin: 0;
        margin-bottom: 10px;
      }

      #resizable {
        background-position: top left;
        width: 150px;
        height: 150px;
      }

      #resizable,
      #container {
        padding: 0.5em;
      }
    </style>
  </head>
  <body>
    <div id="container" class="ui-widget-content">
      <h3 class="ui-widget-header">限制</h3>
      <div id="resizable" class="ui-state-active">
        <h3 class="ui-widget-header">缩放（Resizable）</h3>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          containment: "#container",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555984941493)

- 延迟开始:通过 delay 选项设置延迟开始缩放的毫秒数。通过 distance 选项设置光标被按下且拖拽指定像素后才允许缩放。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable,
      #resizable2 {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3,
      #resizable2 h3 {
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <h3 class="docs">时间延迟 (ms):</h3>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">时间</h3>
    </div>

    <h3 class="docs">距离延迟 (px):</h3>
    <div id="resizable2" class="ui-widget-content">
      <h3 class="ui-widget-header">距离</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          delay: 1000,
        });

        $("#resizable2").resizable({
          distance: 40,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555985250369)

- 助手：通过设置 helper 选项为一个 CSS class，当缩放时只显示元素的轮廓。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }

      .ui-resizable-helper {
        border: 2px dotted #00f;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">助手</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          helper: "ui-resizable-helper",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555985381938)

- 最大/最小尺寸：使用 maxHeight、maxWidth、minHeight 和 minWidth 选项限制 resizable 元素的最大或最小高度或宽度。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 200px;
        height: 150px;
        padding: 5px;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">放大/缩小</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          maxHeight: 250,
          maxWidth: 350,
          minHeight: 150,
          minWidth: 200,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555985518723)

- 保持纵横比：保持现有的纵横比或设置一个新的纵横比来限制缩放比例。设置 aspectRatio 选项为 true，且可选地传递一个新的比率（比如，4/3）。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 160px;
        height: 90px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">保持纵横比</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          aspectRatio: 16 / 9,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555985667316)

- 对齐到网格：对齐 resizable 元素到网格。通过 grid 选项设置网格单元的尺寸（以像素为单位的高度和宽度）。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">网格</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          grid: 50,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555985812664)

- 同步缩放：通过点击并拖拽一个元素的边来同时调整多个元素的尺寸。给 alsoResize 选项传递一个共享的选择器。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        background-position: top left;
      }

      #resizable,
      #also {
        width: 150px;
        height: 120px;
        padding: 0.5em;
      }

      #resizable h3,
      #also h3 {
        text-align: center;
        margin: 0;
      }

      #also {
        margin-top: 1em;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-header">
      <h3 class="ui-state-active">缩放</h3>
    </div>

    <div id="also" class="ui-widget-content">
      <h3 class="ui-widget-header">同步缩放</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          alsoResize: "#also",
        });
        $("#also").resizable();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555986040136)

- 文本框：可缩放的文本框。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .ui-resizable-se {
        bottom: 17px;
      }
    </style>
  </head>
  <body>
    <textarea id="resizable" rows="5" cols="20"></textarea>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          handles: "se",
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555986255095)

- 视觉反馈：通过设置 ghost 选项为 true，可在缩放期间显示一个半透明的元素，而不是显示一个实际的元素。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      #resizable {
        width: 150px;
        height: 150px;
        padding: 0.5em;
      }

      #resizable h3 {
        text-align: center;
        margin: 0;
      }

      .ui-resizable-ghost {
        border: 1px dotted gray;
      }
    </style>
  </head>
  <body>
    <div id="resizable" class="ui-widget-content">
      <h3 class="ui-widget-header">Ghost</h3>
    </div>

    <script>
      $(document).ready(function () {
        $("#resizable").resizable({
          ghost: true,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555986469801)

注：下面的微件和效果库不会像交互一样给那么多的例子，有兴趣了解更多内容的同学，可以访问 [jQuery UI 中文网 jQuery UI Demo](http://www.jqueryui.org.cn/demo/5730.html)。

### 4.5 微件（Widgets）

（1）工具提示框（Tooltip）

可自定义的、可主题化的工具提示框，替代原生的工具提示框。如需了解更多有关 tooltip 部件的细节，请查看 [官方 API 文档 工具提示框部件（Tooltip Widget）。](http://www.jqueryui.org.cn/api/3755.html)

- 默认功能：悬停在链接上，或者使用 tab 键循环切换聚焦在每个元素上。

例子:

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      label {
        display: inline-block;
        width: 5em;
      }
    </style>
  </head>
  <body>
    <p>
      <a href="#" title="部件的名称">Tooltips</a>
      可被绑定到任意的元素上。当您的鼠标悬停在元素上时，title
      属性会显示在元素旁边的一个小框中，就像原生的工具提示框一样。
    </p>
    <p>
      但是由于它不是一个原生的工具提示框，所以它可以被定义样式。通过
      <a
        href="http://themeroller.com"
        title="ThemeRoller：jQuery UI 的主题创建应用程序"
        >ThemeRoller</a
      >
      创建的主题也可以相应地定义工具提示框的样式。
    </p>
    <p>工具提示框也可以用于表单元素，来显示每个区域中的一些额外的信息。</p>
    <p>
      <label for="age">您的年龄：</label
      ><input id="age" title="年龄仅用于统计。" />
    </p>
    <p>悬停在相应的区域上查看工具提示框。</p>
    <script>
      $(document).ready(function () {
        $(document).tooltip();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555989166324)

更多例子代码，请查看 [官方文档 工具提示框（Tooltip）](http://www.jqueryui.org.cn/demo/5727.html)。下面是官方例子的简介：

- 自定义样式:悬停在链接上，或者使用 tab 键循环切换聚焦在每个元素上。

- 自定义动画:使用 show 和 hide 选项来自定义动画，也可以使用 open 事件来自定义动画。

- 自定义内容:通过自定义 items 和 content 选项，来组合不同的事件委托工具提示框到一个单一的实例中。您可能需要与地图工具提示框进行交互，这是未来版本中的一个待实现的功能。

- 表单:使用下面的按钮来显示帮助文本，或者只需要让鼠标悬停在输入框上或者让输入框获得焦点，即可显示相应输入框的帮助文本。在 CSS 中定义一个固定的宽度，让同时显示所有的帮助文本时看起来更一致。

- 跟踪鼠标:工具提示框是相对于鼠标进行定位的，当鼠标在元素上移动时，它会跟随鼠标移动。

- 视频播放器:一个虚拟的视频播放器，带有喜欢/分享/统计按钮，每个按钮都带有自定义样式的工具提示框。

（2）标签页（Tabs）

一种多面板的单内容区，每个面板与列表中的标题相关。如需了解更多有关 tabs 部件的细节，请查看 [官方 API 文档 标签页部件（Tabs Widget）](http://www.jqueryui.org.cn/api/3754.html)。

- 默认功能:点击标签页，切换被划分为不同逻辑部分的内容。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div id="tabs">
      <ul>
        <li><a href="#tabs-1">Nunc tincidunt</a></li>
        <li><a href="#tabs-2">Proin dolor</a></li>
        <li><a href="#tabs-3">Aenean lacinia</a></li>
      </ul>
      <div id="tabs-1">
        <p>
          Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus.
          Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam
          elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris
          dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed
          magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales
          tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et
          mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt
          interdum. Phasellus ipsum. Nunc tristique tempus lectus.
        </p>
      </div>
      <div id="tabs-2">
        <p>
          Morbi tincidunt, dui sit amet facilisis feugiat, odio metus gravida
          ante, ut pharetra massa metus id nunc. Duis scelerisque molestie
          turpis. Sed fringilla, massa eget luctus malesuada, metus eros
          molestie lectus, ut tempus eros massa ut dolor. Aenean aliquet
          fringilla sem. Suspendisse sed ligula in ligula suscipit aliquam.
          Praesent in eros vestibulum mi adipiscing adipiscing. Morbi facilisis.
          Curabitur ornare consequat nunc. Aenean vel metus. Ut posuere viverra
          nulla. Aliquam erat volutpat. Pellentesque convallis. Maecenas
          feugiat, tellus pellentesque pretium posuere, felis lorem euismod
          felis, eu ornare leo nisi vel felis. Mauris consectetur tortor et
          purus.
        </p>
      </div>
      <div id="tabs-3">
        <p>
          Mauris eleifend est et turpis. Duis id erat. Suspendisse potenti.
          Aliquam vulputate, pede vel vehicula accumsan, mi neque rutrum erat,
          eu congue orci lorem eget lorem. Vestibulum non ante. Class aptent
          taciti sociosqu ad litora torquent per conubia nostra, per inceptos
          himenaeos. Fusce sodales. Quisque eu urna vel enim commodo
          pellentesque. Praesent eu risus hendrerit ligula tempus pretium.
          Curabitur lorem enim, pretium nec, feugiat nec, luctus a, lacus.
        </p>
        <p>
          Duis cursus. Maecenas ligula eros, blandit nec, pharetra at, semper
          at, magna. Nullam ac lacus. Nulla facilisi. Praesent viverra justo
          vitae neque. Praesent blandit adipiscing velit. Suspendisse potenti.
          Donec mattis, pede vel pharetra blandit, magna ligula faucibus eros,
          id euismod lacus dolor eget odio. Nam scelerisque. Donec non libero
          sed nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat
          porttitor, tempor ac, tempor vitae, pede. Aenean vehicula velit eu
          tellus interdum rutrum. Maecenas commodo. Pellentesque nec elit. Fusce
          in lacus. Vivamus a libero vitae lectus hendrerit hendrerit.
        </p>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        $("#tabs").tabs();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555989934349)

更多例子代码，请查看 [官方文档 标签页（Tabs）](http://www.jqueryui.org.cn/demo/5719.html)。下面是官方例子的简介：

- 折叠内容:点击选中的标签页来切换内容的关闭/打开状态。为了启用这个功能，需要设置 collapsible 选项为 true。

- 通过 Ajax 获取内容:在标签页链接中设置 href 的值来为标签页通过 Ajax 获取外部的内容。当 Ajax 请求在等待响应时，标签页的标签变为 "Loading..."，当加载完成后返回常规的标签。

标签 3 和 4 演示了慢加载和损坏的 AJAX 标签，以及如何处理这些情况下的服务器端的错误。请注意，这两个都要求 web 服务器能解释 PHP。它们在文件系统以外无法工作。

- 当鼠标悬停时打开:通过 event 选项设置当鼠标悬停时切换各部分的打开/关闭状态。event 的默认值是 "click"。

- 简单的操作:简单的标签页添加和移除。

- 排序（Sortable）:拖拽上面的标签页来对它们进行重新排序。只需要简单地调用 .ui-tabs-nav 元素上的 .sortable()，即可让标签页可排序。

- 底部标签页:通过一些额外的 CSS（用于定位的）和 JS（在元素上放置正确的 class），标签页皆可放置在内容的底部。

- 垂直的标签页:点击标签页，切换被划分为不同逻辑部分的内容。

（3）旋转器（Spinner）

通过向上/向下按钮和箭头键处理，为输入数值增强文本输入功能。如需了解更多有关 spinner 部件的细节，请查看 [官方 API 文档 旋转器部件（Spinner Widget）](http://www.jqueryui.org.cn/api/3753.html)。

- 默认功能:默认的旋转器。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <p>
      <label for="spinner">选择一个值：</label>
      <input id="spinner" name="value" />
    </p>

    <p>
      <button id="disable">切换禁用/启用</button>
      <button id="destroy">切换部件</button>
    </p>

    <p>
      <button id="getvalue">获取值</button>
      <button id="setvalue">设置值为 5</button>
    </p>
    <script>
      $(document).ready(function () {
        var spinner = $("#spinner").spinner();

        $("#disable").click(function () {
          if (spinner.spinner("option", "disabled")) {
            spinner.spinner("enable");
          } else {
            spinner.spinner("disable");
          }
        });
        $("#destroy").click(function () {
          if (spinner.data("ui-spinner")) {
            spinner.spinner("destroy");
          } else {
            spinner.spinner();
          }
        });
        $("#getvalue").click(function () {
          alert(spinner.spinner("value"));
        });
        $("#setvalue").click(function () {
          spinner.spinner("value", 5);
        });

        $("button").button();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555997177498)

更多例子代码，请查看 [官方文档 旋转器（Spinner）](http://www.jqueryui.org.cn/demo/5713.html)。下面是官方例子的简介：

- 货币：本实例是一个捐款表格，带有货币旋转和数量旋转器。

- 小数：本实例是一个小数旋转器。增量设置为 0.01。处理文化变化的代码会读取当前的旋转器的值，当改变文化时，会基于新的文化重新设置值的样式。

- 地图：谷歌地图集成，使用旋转器来改变纬度和经度。

- 溢出：溢出旋转器限制范围从 -10 到 10。对于 10 以上的值，会溢出到 -10，反之亦然。

- 时间：一个扩展自旋转器的自定义部件。使用 全球化（Globalization）插件来解析和输出时间戳，带有自定义的 step 和 page 选项。向上/向下光标用于分钟的递增/递减，向上/向下翻页用于小时的递增/递减。

（4）滑块（Slider）

拖动手柄来选择一个数值。如需了解更多有关 slider 部件的细节，请查看 [官方 API 文档 滑块部件（Slider Widget）](http://www.jqueryui.org.cn/demo/5702.html)。

- 默认功能:基本的滑块是水平的，有一个单一的手柄，可以用鼠标或箭头键进行移动。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div id="slider"></div>
    <script>
      $(document).ready(function () {
        $("#slider").slider();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555997742198)

更多例子代码，请查看 [官方文档 滑块（Slider）](http://www.jqueryui.org.cn/demo/5702.html)。下面是官方例子的简介：

- 颜色选择器：组合了三个滑块，来创建一个简单的 RGB 颜色选择器。

- 多个滑块：组合水平的和垂直的滑块，每个都带有各自的选项，来创建一个音乐播放器的 UI。

- 范围滑块：设置 range 选项为 true，来获取带有两个拖拽手柄的值的范围。手柄之间的控件用不同的背景颜色填充来表示该区间的值是可选择的。

- 带有固定最大值的范围：固定范围滑块的最大值，用户只能选择最小值。设置 range 选项为 "max"。

- 带有固定最小值的范围：固定范围滑块的最小值，用户只能选择最大值。设置 range 选项为 "min"。

- 绑定到 select 的滑块：如何绑定一个滑块到一个已有的 select 元素。选择保持可见以便显示变化。当选择改变时，同时更新滑块。

- 滑块滚动条：使用滑块来操作页面上内容的定位。本实例中，它是一个能获取值的滚动条。

- 对齐增量：通过把 step 选项设置为一个整数来设置滑块值的增量，通常是滑块最大值的除数。默认增量是 1。

- 垂直的范围滑块：改变范围滑块的方向为垂直的。通过 .height() 分配一个高度值，或通过 CSS 设置高度，同时设置 orientation 选项为 "vertical"。

- 垂直的滑块：改变滑块的方向为垂直的。通过 .height() 分配一个高度值，或通过 CSS 设置高度，同时设置 orientation 选项为 "vertical"。

（5）进度条（Progressbar）

显示一个确定的或不确定的进程状态。如需了解更多有关 progressbar 部件的细节，请查看 [官方 API 文档 进度条部件（Progressbar Widget）](http://www.jqueryui.org.cn/api/3751.html)。

- 默认功能:默认的确定的进度条。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div id="progressbar"></div>
    <script>
      $(document).ready(function () {
        $("#progressbar").progressbar({
          value: 37,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555998230945)

更多例子代码，请查看 [官方文档 进度条（Progressbar）](http://www.jqueryui.org.cn/demo/5699.html)。下面是官方例子的简介：

- 自定义标签:自定义更新的标签。

- 不确定的值:不确定的进度条，并可在确定和不确定的样式之间切换。

（6）菜单（Menu）

带有鼠标和键盘交互的用于导航的可主题化菜单。如需了解更多有关 menu 部件的细节，请查看 [官方 API 文档 菜单部件（Menu Widget）](http://www.jqueryui.org.cn/api/3750.html)。

- 默认功能:一个带有默认配置、禁用条目和嵌套菜单的菜单。由一个列表转化成的，添加了主题，并支持鼠标和键盘交互。尝试使用光标键导航菜单。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .ui-menu {
        width: 150px;
      }
    </style>
  </head>
  <body>
    <ul id="menu">
      <li class="ui-state-disabled"><a href="#">Aberdeen</a></li>
      <li><a href="#">Ada</a></li>
      <li><a href="#">Adamsville</a></li>
      <li><a href="#">Addyston</a></li>
      <li>
        <a href="#">Delphi</a>
        <ul>
          <li class="ui-state-disabled"><a href="#">Ada</a></li>
          <li><a href="#">Saarland</a></li>
          <li><a href="#">Salzburg</a></li>
        </ul>
      </li>
      <li><a href="#">Saarland</a></li>
      <li>
        <a href="#">Salzburg</a>
        <ul>
          <li>
            <a href="#">Delphi</a>
            <ul>
              <li><a href="#">Ada</a></li>
              <li><a href="#">Saarland</a></li>
              <li><a href="#">Salzburg</a></li>
            </ul>
          </li>
          <li>
            <a href="#">Delphi</a>
            <ul>
              <li><a href="#">Ada</a></li>
              <li><a href="#">Saarland</a></li>
              <li><a href="#">Salzburg</a></li>
            </ul>
          </li>
          <li><a href="#">Perch</a></li>
        </ul>
      </li>
      <li class="ui-state-disabled"><a href="#">Amesville</a></li>
    </ul>
    <script>
      $(document).ready(function () {
        $("#menu").menu();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555998942229)

- 图标:一个带有默认配置的菜单，显示如何使用带有图标的菜单。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .ui-menu {
        width: 150px;
      }
    </style>
  </head>
  <body>
    <ul id="menu">
      <li>
        <a href="#"><span class="ui-icon ui-icon-disk"></span>保存</a>
      </li>
      <li>
        <a href="#"><span class="ui-icon ui-icon-zoomin"></span>放大</a>
      </li>
      <li>
        <a href="#"><span class="ui-icon ui-icon-zoomout"></span>缩小</a>
      </li>
      <li class="ui-state-disabled">
        <a href="#"><span class="ui-icon ui-icon-print"></span>打印...</a>
      </li>
      <li>
        <a href="#">播放</a>
        <ul>
          <li>
            <a href="#"
              ><span class="ui-icon ui-icon-seek-start"></span>上一个</a
            >
          </li>
          <li>
            <a href="#"><span class="ui-icon ui-icon-stop"></span>停止</a>
          </li>
          <li>
            <a href="#"><span class="ui-icon ui-icon-play"></span>播放</a>
          </li>
          <li>
            <a href="#"><span class="ui-icon ui-icon-seek-end"></span>下一个</a>
          </li>
        </ul>
      </li>
    </ul>
    <script>
      $(document).ready(function () {
        $("#menu").menu();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555999496425)

（7）对话框（Dialog）

在一个交互覆盖层中打开内容。如需了解更多有关 dialog 部件的细节，请查看 [官方 API 文档 对话框部件（Dialog Widget）](http://www.jqueryui.org.cn/api/3749.html)。

- 默认功能:基本的对话框窗口是一个定位于视区中的覆盖层，同时通过一个 iframe 与页面内容分隔开（就像 select 元素）。它由一个标题栏和一个内容区域组成，且可以移动，调整尺寸，默认可通过 'x' 图标关闭。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div id="dialog" title="基本的对话框">
      <p>
        这是一个默认的对话框，用于显示信息。对话框窗口可以移动，调整尺寸，默认可通过
        'x' 图标关闭。
      </p>
    </div>
    <script>
      $(document).ready(function () {
        $("#dialog").dialog();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1555999735988)

更多例子代码，请查看 [官方文档 对话框（Dialog）](http://www.jqueryui.org.cn/demo/5691.html)。下面是官方例子的简介：

- 动画:可以通过为 show/hide 属性指定一个特效来动画显示对话框。您必须为想使用的特效引用独立的特效文件。

- 基本的模态:模态对话框防止用户与对话框以外的页面其他部分进行交互，直到对话框关闭为止。

- 模态确认:确认一个动作可能是破坏性的也可能是有意义的。设置 modal 选项为 true，并通过 buttons 选项来指定主要的和次要的用户动作。

- 模态表单:使用模态对话框来请求用户在一个多步骤过程中输入数据。在内容区域嵌入 form 标记，设置 modal 选项为 true，并通过 buttons 选项来指定主要的和次要的用户动作。

- 模态消息:使用模态对话框来在下一步动作执行之前确认信息和动作。设置 modal 选项为 true，并通过 buttons 选项来指定主要的动作（Ok）。

（8）日期选择器（Datepicker）

从弹出框或内联日历选择一个日期。如需了解更多有关 datepicker 部件的细节，请查看 [官方 API 文档 日期选择器部件（Datepicker Widget）](http://www.jqueryui.org.cn/api/3748.html)。

- 默认功能:日期选择器（Datepicker）绑定到一个标准的表单 input 字段上。把焦点移到 input 上（点击或者使用 tab 键），在一个小的覆盖层上打开一个交互日历。选择一个日期，点击页面上的任意地方（输入框即失去焦点），或者点击 Esc 键来关闭。如果选择了一个日期，则反馈显示为 input 的值。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <p>日期：<input type="text" id="datepicker" /></p>
    <script>
      $(document).ready(function () {
        $("#datepicker").datepicker();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556000102847)

更多例子代码，请查看 [日期选择器（Datepicker）](http://www.jqueryui.org.cn/demo/5677.html)。下面是官方例子的简介：

- 动画:当打开或关闭 datepicker 时使用不同的动画。从下拉框中选择一个动画，然后在输入框中点击来查看它的效果。您可以使用三个标准动画中任意一个，或者使用 UI 特效中的任意一个。

- 其他月份的日期:datepicker 可以显示其他月份的日期，这些日期也可以设置成可选择的。

- 显示按钮栏:通过布尔值的 showButtonPanel 选项为选择当天日期显示一个"Today"按钮，为关闭日历显示一个"Done"按钮。默认情况下，当按钮栏显示时会启用每个按钮，但是按钮可通过其他的选项进行关闭。按钮文本可自定义。

- 内联显示:datepicker 是嵌套在页面中显示，而不是显示在一个覆盖层中。只需要简单地在 div 上调用 .datepicker() 即可，而不是在 input 上调用。

- 显示月份 & 年份菜单:显示月份和年份的下拉框，而不是显示静态的月份/年份标题，这样便于在大范围的时间跨度上导航。添加布尔值 changeMonth 和 changeYear 选项即可。

- 显示多个月份:设置 numberOfMonths 选项为一个整数 2，或者大于 2 的整数，来在一个 datepicker 中显示多个月份。

- 格式化日期:以各种方式显示日期反馈。从下拉框中选择一种日期格式，然后在输入框中点击并选择一个日期，查看所选格式的日期显示。

- 图标触发器:点击输入框旁边的图标来显示 datepicker。设置 datepicker 在获得焦点时打开（默认行为），或者在点击图标时打开，或者在获得焦点/点击图标时打开。

- 本地化日历:本地化 datepicker 日历语言和格式（默认为 English / Western 格式）。datepicker 包含对从右到左读取的语言的内建支持，比如 Arabic 和 Hebrew。

- 填充另一个输入框:使用 altField 和 altFormat 选项，无论何时选择日期，会在另一个输入框中填充带有一定格式的日期。这个功能通过对电脑友好性的日期进一步加工后，向用户呈现一个用户友好性的日期。

- 限制日期范围:通过 minDate 和 maxDate 选项限制可选择的日期范围。设置起止日期为实际的日期（new Date(2009, 1 - 1, 26)），或者为与今天的一个数值偏移（-20），或者为一个周期和单位的字符串（'+1M +10D'）。如果设置为字符串，使用 'D' 表示天，使用 'W' 表示周，使用 'M' 表示月，使用 'Y' 表示年。

- 选择一个日期范围:选择要搜索的日期范围。

- 显示一年中的第几周:datepicker 可以显示一年中的第几周。默认的计算是按照 ISO 8601 定义：每周从星期一开始，每年的第一周包含该年的第一个星期四。这就意味着一年中的一些天可能是属于另一年中的周。

（9）按钮（Button）

用带有适当的悬停（hover）和激活（active）的样式的可主题化按钮来加强标准表单元素（比如按钮、输入框、锚）的功能。如需了解更多有关 button 部件的细节，请查看 [官方 API 文档 按钮部件（Button Widget）](http://www.jqueryui.org.cn/api/3747.html)。

默认功能:可用于按钮的标记实例：一个 button 元素，一个类型为 submit 的 input 元素和一个锚。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <button>一个 button 元素</button>

    <input type="submit" value="一个提交按钮" />

    <a href="#">一个锚</a>
    <script>
      $(document).ready(function () {
        $("input[type=submit], a, button")
          .button()
          .click(function (event) {
            event.preventDefault();
          });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556000906673)

更多例子代码，请查看 [按钮（Button）](http://www.jqueryui.org.cn/demo/5671.html)。下面是官方例子的简介：

- 复选框:通过 button 部件把复选框显示为切换按钮样式。与复选框相关的 label 元素作为按钮文本。本实例通过在一个公共的容器上调用 `.buttonset()`，演示了三个显示为按钮样式的复选框。

- 图标:一些带有文本和图标的各种组合的按钮

- 单选:三个单选按钮转变为一套按钮。

- 分割按钮:将按钮分割。

- 工具栏：一个多媒体播放器的工具栏。请看基础的标记：一些 button 元素，Shuffle 按钮是一个类型为 checkbox 的 input，Repeat 选项是三个类型为 radio 的 input。

（10）自动完成（Autocomplete）

根据用户输入值进行搜索和过滤，让用户快速找到并从预设值列表中选择。如需了解更多有关 autocomplete 部件的细节，请查看 [官方 API 文档 自动完成部件（Autocomplete Widget）](http://www.jqueryui.org.cn/api/3746.html)。

默认功能:当您在输入域中输入时，自动完成（Autocomplete）部件提供相应的建议。在本实例中，提供了编程语言的建议选项，您可以输入 "ja" 尝试一下，可以得到 Java 或 JavaScript。数据源是一个简单的 JavaScript 数组，使用 source 选项提供给部件。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div class="ui-widget">
      <label for="tags">标签：</label>
      <input id="tags" />
    </div>

    <script>
      $(document).ready(function () {
        var availableTags = [
          "ActionScript",
          "AppleScript",
          "Asp",
          "BASIC",
          "C",
          "C++",
          "Clojure",
          "COBOL",
          "ColdFusion",
          "Erlang",
          "Fortran",
          "Groovy",
          "Haskell",
          "Java",
          "JavaScript",
          "Lisp",
          "Perl",
          "PHP",
          "Python",
          "Ruby",
          "Scala",
          "Scheme",
        ];
        $("#tags").autocomplete({
          source: availableTags,
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556001368340)

- 包含重音:autocomplete 域使用自定义的 source 选项来匹配带有重音字符的结果项，即使文本域不包含重音字符也会匹配。但是如果您在文本域中键入了重音字符，则不会显示非重音的结果项。尝试键入 "Jo"，会看到 "John" 和 "Jörn"，然后 键入 "Jö"，只会看到 "Jörn"。

更多例子代码，请查看 [自动完成（Autocomplete）](http://www.jqueryui.org.cn/demo/5662.html)。下面是官方例子的简介：

- 分类:分类的搜索结果。尝试键入 "a" 或 "n"。

- 组合框（Combobox）:一个由 Autocomplete 和 Button 创建的自定义部件。您可以键入一些字符，来获得基于您的输入过滤的结果，或者使用按钮从完整列表中选择。该输入是从一个已有的 select 元素中读取，传递给带有自定义的 source 选项的 Autocomplete。这是一个不被支持的不完美的部件。这里纯粹是为了演示 autocomplete 定制功能。如需了解更多有关该部件工作原理的细节，[请点击这里查看相关的 jQuery 文章](https://www.learningjquery.com/2010/06/a-jquery-ui-combobox-under-the-hood)。

- 自定义数据并显示:您可以使用自定义数据格式，并通过简单地重载默认的聚焦和选择行为来显示数据。尝试键入 "j"，或者按向下箭头按键，即可得到一个项目列表。

- 多个值:用法：键入一些字符，比如 "j"，可以看到相关的编程语言结果。选择一个值，然后继续键入字符来添加其他的值。本实例演示如何使用 source 选项和一些事件来实现在一个单一的文本域输入多个自动完成的值。

- 多个值，远程:用法：键入至少两个字符来获取目标名称。选择一个值，然后继续键入字符来添加其他的值。本实例演示如何使用 source 选项和一些事件来实现在一个单一的文本域输入多个自动完成的值。

- 远程 JSONP 数据源:当您在文本域中键入字符时，Autocomplete 部件给出建议结果。在本实例中，当您在文本域中至少键入两个字符时，将显示相关城市的名称。在本实例中，数据源是 geonames.org webservice。虽然选择一个元素后文本域中是该城市名称，但是会显示更多的信息以便找到正确的条目。数据也可以回调，显示在下面的结果框中。

- 远程数据源:当您在文本域中键入字符时，Autocomplete 部件给出建议结果。在本实例中，当您在文本域中至少键入两个字符时，将显示相关目标名称。在本实例中，数据源是可返回 JSON 数据的服务器端脚本，通过一个简单的 source 选项来指定。另外，minLength 选项设置为 2，避免查询返回太多的结果，select 事件用于显示一些反馈。

- 远程缓存:当您在文本域中键入字符时，Autocomplete 部件给出建议结果。在本实例中，当您在文本域中至少键入两个字符时，将显示相关目标名称。为了提高性能，这里添加了一些本地缓存，其他与远程数据源实例相似。在这里，缓存只保存了一个查询，并可以扩展到缓存多个值，每个条目一个值。

- 可滚动的结果:当显示一个长列表的选项时，您可以简单地为 autocomplete 菜单设置 max-height 来防止菜单显示太长。尝试键入 "a" 或 "s" 来获得一个可滚动的长列表的结果。

- XML 数据:本实例演示如何获取一些 XML 数据，并使用 jQuery 的方法解析它，然后把它提供给 autocomplete 作为数据源。本实例也可作为解析远程 XML 数据源的参考 - 解析在每次 source 回调请求时发生。

（11）折叠面板（Accordion）

在一个有限的空间内显示用于呈现信息的可折叠的内容面板。如需了解更多有关 accordion 部件的细节，请查看 [官方 API 文档 折叠面板部件（Accordion Widget）](http://www.jqueryui.org.cn/api/3745.html)。

- 默认功能:点击头部展开/折叠被分为各个逻辑部分的内容，就像标签页（tabs）一样。您可以选择性地设置当鼠标悬停时是否切换各部分的打开/关闭状态。基本的 HTML 标记是一系列的标题（H3 标签）和内容 div，因此内 `容不用通过 JavaScript 即可用。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
  </head>
  <body>
    <div id="accordion">
      <h3>部分 1</h3>
      <div>
        <p>
          Mauris mauris ante, blandit et, ultrices a, suscipit eget, quam.
          Integer ut neque. Vivamus nisi metus, molestie vel, gravida in,
          condimentum sit amet, nunc. Nam a nibh. Donec suscipit eros. Nam mi.
          Proin viverra leo ut odio. Curabitur malesuada. Vestibulum a velit eu
          ante scelerisque vulputate.
        </p>
      </div>
      <h3>部分 2</h3>
      <div>
        <p>
          Sed non urna. Donec et ante. Phasellus eu ligula. Vestibulum sit amet
          purus. Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis
          porttitor velit, faucibus interdum tellus libero ac justo. Vivamus non
          quam. In suscipit faucibus urna.
        </p>
      </div>
      <h3>部分 3</h3>
      <div>
        <p>
          Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque
          lobortis. Phasellus pellentesque purus in massa. Aenean in pede.
          Phasellus ac libero ac tellus pellentesque semper. Sed ac felis. Sed
          commodo, magna quis lacinia ornare, quam ante aliquam nisi, eu iaculis
          leo purus venenatis dui.
        </p>
        <ul>
          <li>List item one</li>
          <li>List item two</li>
          <li>List item three</li>
        </ul>
      </div>
      <h3>部分 4</h3>
      <div>
        <p>
          Cras dictum. Pellentesque habitant morbi tristique senectus et netus
          et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in
          faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia
          mauris vel est.
        </p>
        <p>
          Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat
          lectus. Class aptent taciti sociosqu ad litora torquent per conubia
          nostra, per inceptos himenaeos.
        </p>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("#accordion").accordion();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556001876505)

更多例子代码，请查看 [折叠面板（Accordion）](http://www.jqueryui.org.cn/demo/5652.html)。下面是官方例子的简介：

- 折叠内容:默认情况下，折叠面板总是保持一个部分是打开的。为了让所有部分都是折叠的，可设置 collapsible 选项为 true。点击当前打开的部分，来折叠它的内容面板。

- 自定义图标:通过 icons 选项自定义标题图标，icons 选项接受标题默认的和激活的（打开的）状态的 class。使用 UI CSS 框架中的任意 class，或者使用背景图像创建自定义的 class。

- 填充空间:由于折叠面板是由块级元素组成的，默认情况下它的宽度会填充可用的水平空间。为了填充由容器分配的垂直空间，设置 heightStyle 选项为 "fill"，脚本会自动设置折叠面板的尺寸为父容器的高度。

- 非自动高度:设置 heightStyle: "content"，让折叠面板保持它们初始的高度。

- 当悬停时打开:点击头部展开/折叠被分为各个逻辑部分的内容，就像标签页（tabs）一样。您可以选择性地设置当鼠标悬停时是否切换各部分的打开/关闭状态。基本的 HTML 标记是一系列的标题（H3 标签）和内容 div，因此内容不用通过 JavaScript 即可用。

- 排序（Sortable）:拖拽标题来给面板重新排序。

### 4.6 效果库（Effects）

（1）显示（Show）

使用自定义效果来显示匹配的元素。如需了解更多有关 `.show()` 方法的细节，请查看 [官方 API 文档 .show()](http://www.jqueryui.org.cn/api/3715.html)。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        width: 240px;
        height: 135px;
        padding: 0.4em;
        position: relative;
      }

      #effect h3 {
        margin: 0;
        padding: 0.4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-widget-content ui-corner-all">
        <h3 class="ui-widget-header ui-corner-all">显示（Show）</h3>
        <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed
          pede. Nulla lorem metus, adipiscing ut, luctus sed, hendrerit vitae,
          mi.
        </p>
      </div>
    </div>

    <select name="effects" id="effectTypes">
      <option value="blind">百叶窗特效（Blind Effect）</option>
      <option value="bounce">反弹特效（Bounce Effect）</option>
      <option value="clip">剪辑特效（Clip Effect）</option>
      <option value="drop">降落特效（Drop Effect）</option>
      <option value="explode">爆炸特效（Explode Effect）</option>
      <option value="fold">折叠特效（Fold Effect）</option>
      <option value="highlight">突出特效（Highlight Effect）</option>
      <option value="puff">膨胀特效（Puff Effect）</option>
      <option value="pulsate">跳动特效（Pulsate Effect）</option>
      <option value="scale">缩放特效（Scale Effect）</option>
      <option value="shake">震动特效（Shake Effect）</option>
      <option value="size">尺寸特效（Size Effect）</option>
      <option value="slide">滑动特效（Slide Effect）</option>
    </select>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>

    <script>
      $(document).ready(function () {
        // 运行当前选中的特效
        function runEffect() {
          // 从中获取特效类型
          var selectedEffect = $("#effectTypes").val();

          // 大多数的特效类型默认不需要传递选项
          var options = {};
          // 一些特效带有必需的参数
          if (selectedEffect === "scale") {
            options = {
              percent: 100,
            };
          } else if (selectedEffect === "size") {
            options = {
              to: {
                width: 280,
                height: 185,
              },
            };
          }

          // 运行特效
          $("#effect").show(selectedEffect, options, 500, callback);
        }

        // 回调函数
        function callback() {
          setTimeout(function () {
            $("#effect:visible").removeAttr("style").fadeOut();
          }, 1000);
        }

        // 根据选择菜单值设置特效
        $("#button").click(function () {
          runEffect();
          return false;
        });

        $("#effect").hide();
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556002485740)

（2）特效（Effect）

对一个元素应用动画特效。如需了解更多有关 `.effect()` 方法的细节，请查看 [官方 API 文档 .effect()](http://www.jqueryui.org.cn/api/3704.html)。

- .effect() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        width: 240px;
        height: 135px;
        padding: 0.4em;
        position: relative;
      }

      #effect h3 {
        margin: 0;
        padding: 0.4em;
        text-align: center;
      }

      .ui-effects-transfer {
        border: 2px dotted gray;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-widget-content ui-corner-all">
        <h3 class="ui-widget-header ui-corner-all">特效（Effect）</h3>
        <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed
          pede. Nulla lorem metus, adipiscing ut, luctus sed, hendrerit vitae,
          mi.
        </p>
      </div>
    </div>

    <select name="effects" id="effectTypes">
      <option value="blind">百叶窗特效（Blind Effect）</option>
      <option value="bounce">反弹特效（Bounce Effect）</option>
      <option value="clip">剪辑特效（Clip Effect）</option>
      <option value="drop">降落特效（Drop Effect）</option>
      <option value="explode">爆炸特效（Explode Effect）</option>
      <option value="fade">淡入淡出特效（Fade Effect）</option>
      <option value="fold">折叠特效（Fold Effect）</option>
      <option value="highlight">突出特效（Highlight Effect）</option>
      <option value="puff">膨胀特效（Puff Effect）</option>
      <option value="pulsate">跳动特效（Pulsate Effect）</option>
      <option value="scale">缩放特效（Scale Effect）</option>
      <option value="shake">震动特效（Shake Effect）</option>
      <option value="size">尺寸特效（Size Effect）</option>
      <option value="slide">滑动特效（Slide Effect）</option>
      <option value="transfer">转移特效（Transfer Effect）</option>
    </select>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>

    <script>
      $(document).ready(function () {
        // 运行当前选中的特效
        function runEffect() {
          // 从中获取特效类型
          var selectedEffect = $("#effectTypes").val();

          // 大多数的特效类型默认不需要传递选项
          var options = {};
          // 一些特效带有必需的参数
          if (selectedEffect === "scale") {
            options = {
              percent: 0,
            };
          } else if (selectedEffect === "transfer") {
            options = {
              to: "#button",
              className: "ui-effects-transfer",
            };
          } else if (selectedEffect === "size") {
            options = {
              to: {
                width: 200,
                height: 60,
              },
            };
          }

          // 运行特效
          $("#effect").effect(selectedEffect, options, 500, callback);
        }

        // 回调函数
        function callback() {
          setTimeout(function () {
            $("#effect").removeAttr("style").hide().fadeIn();
          }, 1000);
        }

        // 根据选择菜单值设置特效
        $("#button").click(function () {
          runEffect();
          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556002765402)

更多例子代码，请查看 [特效（Effect）](http://www.jqueryui.org.cn/demo/5734.html)。下面是官方例子的简介：

- Easing 演示:本实例使用 HTML Canvas 元素，绘制了 jQuery UI 提供的所有 easings。 点击每个图可查看该 easing 的行为。

（3）隐藏（Hide）

使用自定义效果来隐藏匹配的元素。如需了解更多有关 `.hide()` 方法的细节，请查看 [官方 API 文档 .hide()](http://www.jqueryui.org.cn/api/3708.html)。

- .hide() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        width: 240px;
        height: 135px;
        padding: 0.4em;
        position: relative;
      }

      #effect h3 {
        margin: 0;
        padding: 0.4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-widget-content ui-corner-all">
        <h3 class="ui-widget-header ui-corner-all">隐藏（Hide）</h3>
        <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed
          pede. Nulla lorem metus, adipiscing ut, luctus sed, hendrerit vitae,
          mi.
        </p>
      </div>
    </div>

    <select name="effects" id="effectTypes">
      <option value="blind">百叶窗特效（Blind Effect）</option>
      <option value="bounce">反弹特效（Bounce Effect）</option>
      <option value="clip">剪辑特效（Clip Effect）</option>
      <option value="drop">降落特效（Drop Effect）</option>
      <option value="explode">爆炸特效（Explode Effect）</option>
      <option value="fold">折叠特效（Fold Effect）</option>
      <option value="highlight">突出特效（Highlight Effect）</option>
      <option value="puff">膨胀特效（Puff Effect）</option>
      <option value="pulsate">跳动特效（Pulsate Effect）</option>
      <option value="scale">缩放特效（Scale Effect）</option>
      <option value="shake">震动特效（Shake Effect）</option>
      <option value="size">尺寸特效（Size Effect）</option>
      <option value="slide">滑动特效（Slide Effect）</option>
    </select>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>

    <script>
      $(document).ready(function () {
        // 运行当前选中的特效
        function runEffect() {
          // 从中获取特效类型
          var selectedEffect = $("#effectTypes").val();

          // 大多数的特效类型默认不需要传递选项
          var options = {};
          // 一些特效带有必需的参数
          if (selectedEffect === "scale") {
            options = {
              percent: 0,
            };
          } else if (selectedEffect === "size") {
            options = {
              to: {
                width: 200,
                height: 60,
              },
            };
          }

          // 运行特效
          $("#effect").hide(selectedEffect, options, 1000, callback);
        }

        // 回调函数
        function callback() {
          setTimeout(function () {
            $("#effect").removeAttr("style").hide().fadeIn();
          }, 1000);
        }

        // 根据选择菜单值设置特效
        $("#button").click(function () {
          runEffect();
          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556003424426)

（4）切换（Toggle）

使用自定义效果来显示或隐藏匹配的元素。如需了解更多有关 `.toggle()` 方法的细节，请查看 [官方 API 文档 .toggle()](http://www.jqueryui.org.cn/api/3719.html)。

- .toggle() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        position: relative;
        width: 240px;
        height: 135px;
        padding: 0.4em;
      }

      #effect h3 {
        margin: 0;
        padding: 0.4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-widget-content ui-corner-all">
        <h3 class="ui-widget-header ui-corner-all">切换（Toggle）</h3>
        <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed
          pede. Nulla lorem metus, adipiscing ut, luctus sed, hendrerit vitae,
          mi.
        </p>
      </div>
    </div>

    <select name="effects" id="effectTypes">
      <option value="blind">百叶窗特效（Blind Effect）</option>
      <option value="bounce">反弹特效（Bounce Effect）</option>
      <option value="clip">剪辑特效（Clip Effect）</option>
      <option value="drop">降落特效（Drop Effect）</option>
      <option value="explode">爆炸特效（Explode Effect）</option>
      <option value="fold">折叠特效（Fold Effect）</option>
      <option value="highlight">突出特效（Highlight Effect）</option>
      <option value="puff">膨胀特效（Puff Effect）</option>
      <option value="pulsate">跳动特效（Pulsate Effect）</option>
      <option value="scale">缩放特效（Scale Effect）</option>
      <option value="shake">震动特效（Shake Effect）</option>
      <option value="size">尺寸特效（Size Effect）</option>
      <option value="slide">滑动特效（Slide Effect）</option>
    </select>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>
    <script>
      $(document).ready(function () {
        // 运行当前选中的特效
        function runEffect() {
          // 从中获取特效类型
          var selectedEffect = $("#effectTypes").val();

          // 大多数的特效类型默认不需要传递选项
          var options = {};
          // 一些特效带有必需的参数
          if (selectedEffect === "scale") {
            options = {
              percent: 0,
            };
          } else if (selectedEffect === "size") {
            options = {
              to: {
                width: 200,
                height: 60,
              },
            };
          }

          // 运行特效
          $("#effect").toggle(selectedEffect, options, 500);
        }

        // 根据选择菜单值设置特效
        $("#button").click(function () {
          runEffect();
          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556003662839)

（5）添加 Class（Add Class）

当动画样式改变时，为匹配的元素集合内的每个元素添加指定的 Class。如需了解更多有关 `.addClass()` 方法的细节，请查看 [官方 API 文档 .addClass()](http://www.jqueryui.org.cn/api/3698.html)。

- .addClass() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        width: 240px;
        padding: 1em;
        font-size: 1.2em;
        border: 1px solid #000;
        background: #eee;
        color: #333;
      }

      .newClass {
        text-indent: 40px;
        letter-spacing: 0.4em;
        width: 410px;
        height: 100px;
        padding: 30px;
        margin: 10px;
        font-size: 1.6em;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-corner-all">
        Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed pede.
      </div>
    </div>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>
    <script>
      $(document).ready(function () {
        $("#button").click(function () {
          $("#effect").addClass("newClass", 1000, callback);
          return false;
        });

        function callback() {
          setTimeout(function () {
            $("#effect").removeClass("newClass");
          }, 1500);
        }
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556004157498)

（6）移除 Class（Remove Class）

当动画样式改变时，为匹配的元素集合内的每个元素移除指定的 Class。如需了解更多有关 `.removeClass()` 方法的细节，请查看 [官方 API 文档 .removeClass()](http://www.jqueryui.org.cn/api/3712.html)。

- .removeClass() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        position: relative;
        width: 240px;
        padding: 1em;
        letter-spacing: 0;
        font-size: 1.2em;
        border: 1px solid #000;
        background: #eee;
        color: #333;
      }

      .newClass {
        text-indent: 40px;
        letter-spacing: 0.4em;
        width: 410px;
        height: 100px;
        padding: 30px;
        margin: 10px;
        font-size: 1.6em;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="newClass ui-corner-all">
        Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed pede.
      </div>
    </div>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>
    <script>
      $(document).ready(function () {
        $("#button").click(function () {
          $("#effect").removeClass("newClass", 1000, callback);
          return false;
        });

        function callback() {
          setTimeout(function () {
            $("#effect").addClass("newClass");
          }, 1500);
        }
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556004355606)

（7）切换 Class（Toggle Class）

当动画样式改变时，根据 Class 是否存在以及 switch 参数的值，为匹配的元素集合内的每个元素添加或移除一个或多个 Class。如需了解更多有关 `.toggleClass()` 方法的细节，请查看 [官方 API 文档 .toggleClass()](http://www.jqueryui.org.cn/api/3720.html)。

- .toggleClass() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        position: relative;
        width: 240px;
        padding: 1em;
        letter-spacing: 0;
        font-size: 1.2em;
        border: 1px solid #000;
        background: #eee;
        color: #333;
      }

      .newClass {
        text-indent: 40px;
        letter-spacing: 0.4em;
        width: 410px;
        height: 100px;
        padding: 30px;
        margin: 10px;
        font-size: 1.6em;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="newClass ui-corner-all">
        Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed pede.
      </div>
    </div>

    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>
    <script>
      $(document).ready(function () {
        $("#button").click(function () {
          $("#effect").toggleClass("newClass", 1000);
          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556004625745)

（8）转换 Class（Switch Class）

当动画样式改变时，为匹配的元素集合内的每个元素添加和移除指定的 Class。如需了解更多有关 `.switchClass()` 方法的细节，请查看 [官方 API 文档 .switchClass()](http://www.jqueryui.org.cn/api/3718.html)。

- .switchClass() 演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        position: relative;
      }

      .newClass {
        width: 240px;
        padding: 1em;
        letter-spacing: 0;
        font-size: 1.2em;
        margin: 0;
      }

      .anotherNewClass {
        text-indent: 40px;
        letter-spacing: 0.4em;
        width: 410px;
        height: 100px;
        padding: 30px;
        margin: 10px;
        font-size: 1.6em;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="newClass ui-corner-all">
        Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed pede.
      </div>
    </div>
    <a href="#" id="button" class="ui-state-default ui-corner-all">运行特效</a>
    <script>
      $(document).ready(function () {
        $("#button").click(function () {
          $(".newClass").switchClass("newClass", "anotherNewClass", 1000);
          $(".anotherNewClass").switchClass(
            "anotherNewClass",
            "newClass",
            1000
          );
          return false;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556004836217)

（9）颜色动画（Color Animation）

使用 `.animate()` 实现颜色动画效果。如需了解更多有关颜色动画（Color Animation）的细节，请查看 [官方 API 文档 颜色动画（Color Animation）](http://www.jqueryui.org.cn/api/3702.html)。jQuery UI 捆绑了 jQuery Color 插件，jQuery Color 插件提供了颜色动画及其他许多与颜色相关的实用功能。

- 动画（Animation）演示:点击按钮预览特效。

例子：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="jquery-ui.css" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="jquery-ui.js"></script>
    <style>
      .toggler {
        width: 500px;
        height: 200px;
        position: relative;
      }

      #button {
        padding: 0.5em 1em;
        text-decoration: none;
      }

      #effect {
        width: 240px;
        height: 135px;
        padding: 0.4em;
        position: relative;
        background: #fff;
      }

      #effect h3 {
        margin: 0;
        padding: 0.4em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="toggler">
      <div id="effect" class="ui-widget-content ui-corner-all">
        <h3 class="ui-widget-header ui-corner-all">动画（Animation）</h3>
        <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed
          pede. Nulla lorem metus, adipiscing ut, luctus sed, hendrerit vitae,
          mi.
        </p>
      </div>
    </div>

    <a href="#" id="button" class="ui-state-default ui-corner-all">切换特效</a>
    <script>
      $(document).ready(function () {
        var state = true;
        $("#button").click(function () {
          if (state) {
            $("#effect").animate(
              {
                backgroundColor: "#aa0000",
                color: "#fff",
                width: 500,
              },
              1000
            );
          } else {
            $("#effect").animate(
              {
                backgroundColor: "#fff",
                color: "#000",
                width: 240,
              },
              1000
            );
          }
          state = !state;
        });
      });
    </script>
  </body>
</html>
```

运行效果为：

![图片描述](https://doc.shiyanlou.com/courses/uid897174-20190423-1556005068481)

## 五、总结

本节实验介绍了三个 jQuery 插件：

- jQuery 表单验证插件 Validation

- jQuery Cookie 插件

- jQuery UI 插件（重点介绍）

其中对于 jQuery UI 插件进行了大篇幅的讲解，认真完成本节的学习，那么我们不仅学习了 jQuery 的使用，还学会了一个 UI 框架的使用。
