---
show: step
version: 1.0
enable_checker: true
---

# 更多颜色

## 回忆上次内容

- 上次我们搞的还是颜色
  - FG foreground 前景色
  - BG background 背景色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614227808523)

- 这些都可以和字体的样式结合起来

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230252445)

- 难道就这几种颜色吗？？🤔
- 有点少啊！

### 明确概念

- \是转义字符 escape 的意思
- \e 是转义序列
- \e 这个转义序列转移到 escape 这样的状态
- 从正常的输出退出
- 进入 control sequences 控制序列
- 控制序列的东西是不直接输出的
- 而是设置一些位置、样式、颜色之类的
- 他开始于 CSI(Control Sequence Initiator)
- \e 对应 ascii 的值是(033)<sub>8</sub>
- 所以一般写作`\033[控制信息`
- 各终端关于控制信息的标准各式各样
- 形成了各产品内部标准
- 最终统一到了 ansi 标准下

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614264500107)

### 亮色设置

- 31-37、41-47 对应的一般的前景背景色
- 91-97、101-107 对应高亮的前景背景色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230130640)

### 具体实验

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230148675)

- 31 确实比 91 暗一点
- 91 确实比 31 亮一点
- 加亮之后其实差不多
- 但还不是纯红色，有点粉呢
- 这些是谁定的？

### ANSI

- 制定规则的地方叫做 ansi
- 叫美国国家标准组织
- 什么标准都订

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210930-1632975681122)

- 上面是禁止带餐具的标准提示
- 这也能定标准么？
- 能！
- 较真说，衣服领口寄系几个扣子，握手是手掌倾斜角度都可以有标准
- 但是没人那么累定这个，因为本身完全精确了也没有任何意义
- 但通信的东西还是得有标准的
- 比如逃逸字符编码格式

### 由来

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210930-1632975988497)

- 现在的美国国家标准学会（ANSI）
  - 听起来是很高大上的官方
  - 其实是专业技能人士的民间组织
- 1969 - 美国国家标准学会（ANSI）
- 1966 - 美利坚合众国标准学会（USASI）
- 1928 - AESC 改组为美国标准协会（ASA）
- 1918 - 美国工程标准委员会（AESC）
  - 美国政府的三个部（商务部、陆军部、海军部）也参与了该委员会的筹备工作
  - 美国材料试验协会（ASTM）、与美国机械工程师协会（ASME）、美国矿业与冶金工程师协会（ASMME）、美国土木工程师协会（ASCE）、美国电气工程师协会（AIEE）等组织，共同成立了美国工程标准委员会（AESC）
  - 这个 AIEE 就是 IEEE 的前身
  - IEEE 干什么的来着
  - ascii 就是 ieee 的一个里程碑
- 就是说 ascii 也经历一个历史过程么？

### 历史

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210930-1632973250796)

- 没有什么是一下子就成为标准的
- 标准首先能能用得起来
- 而且也会不断地发展
- 也是在历史长河中一段时间内的产物
- 各种组织也有各自生灭的过程
- 就像早年间其实没有 esc 键

### esc 来历

- 早年间没有 esc 键
- 类似的功能用的是波浪号~tilde
- 这个键当时的使用频率比现在高很多
- 后来的标准是由当时的大流行产品决定的
- 1978 年的 vt100 把这个特殊按键变成了习惯
- 后来变成了标准
- 标准又会影响到后面的应用
- 就像当年 unix 的大流行把 tcpip 做成通信标准一样

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210930-1632979214382)

### 具体颜色

- ansi 是事实上大家都遵循的标准
- 这些符号确实可以定义颜色名称
- 但是具体的颜色是由终端软件控制的
- 每个终端软件的实现会有一些差异

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230347860)

- 每个具体的显示器也会有差异
- 可是
- 我想要一个大红啊！😫
- 能使用 RGB 么？

### rgb 模式

- 关于 RGB 模式
- 可以[搜索《oeasy 教您玩转 ps》第 4 话](https://www.bilibili.com/video/BV1zs411o7o1?p=4)
- ANSI 的标准如下

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231394719)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231481147)

- 当前系统没有报错
- 也没有改变颜色
- 简单来说他是不支持的

- 但是有的终端是支持的比如 mac 下的 iTerm2

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231867277)

- 这种方式不行
- 我们还得另找方法

### 更多颜色

- 除了这些颜色之外
- 我们可以用更多颜色
- 那就是 38;5;数字 m

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230916627)

- 数字来自于下表

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

### 规则原理

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230960132)

- 0-7 是标准色
- 8-15 是高亮色
- 16-231 是混合色
  - r、g、b 都是从 0-5 的阶梯范围
  - 具体的颜色来自于 16+36*r+6*g+b
  - 得到数值后可以显示颜色
- 232-255 是 24 级灰阶色
- 可是这个毕竟不是 rgb，可以用 rgb 颜色吗？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

- 有了这个我可以制作一个海蓝色的海龟么？

### 海蓝色的大海龟

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632458685121)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632458697148)

- 我想让海龟颜色变色
- 怎么办？

### 循环范围

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

- 每次增加 1
- 从 16 到 231
- 现在需要 python 做一个循环
- 搜索

### 搜索

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632459000448)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632459012534)

- 我们根据这个来修改

### 修改

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

```python
num = 16
while num <= 231:
	print(num,end=",")
	num = num + 1
```

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632459439898)

- 怎么样让大海龟变色？
- 这由你来完成
- 而且需要永不停息地变色
- 这个任务能交给你么？
- 快来实现这个神迹吧！

## 总结

- 首先我们了解了高亮颜色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231595731)

- 然后我们了解了\33[38;5;XXXm 这种定制颜色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231791978)

- 甚至可以用各种颜色
  - \33[38;2;R;G;Bmoeasy\33[0m
  - 每个颜色 0-5 总共 6 级
  - 颜色真不少了
- 我想用大红色画个桃心 ♥️
- 有可能吗？？🤔
- 我们下次再说！👋
