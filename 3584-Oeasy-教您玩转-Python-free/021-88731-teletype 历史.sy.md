---
show: step
version: 1.0
enable_checker: true
---

# teletypewriter 历史

## 回忆上次内容

- 上次见到了一个真的机械打字机
- 感受到了蒸汽朋克的时代背景
- 上上次区分了一些概念
  - `terminal`终端，电脑连线结束的端点
  - `shell`，终端硬件基础上的软件壳子
  - `Console` 控制台，直接连接主机的控制面板
  - `TeleTYpewriter`，电传打印机
- 换行和回车是两回事
  - 换行 对应字节`0x0A` Line-Feed 的意思是水平不动、垂直向上喂纸 所以是`feed`
  - 回车 对应字节`0x0D` Carriage-Return 的意思是让上图可移动的打印头(好像可移动的四轮马车 Carriage)垂直不动、水平 `回`到纸张左侧 所以是`Return`
- 对于换行和回车，不同层面的理解
  - 电传打字机:两件事，经常一起干，但也可以分别干
  - 不同操作系统
    - `unix-like`：大家一起改造这个，就步调一致就都好了
    - `windows`：我用户多，定什么规矩我说了算
  - Python 解释器
    - 不管在什么系统、什么架构上
    - 我把这个事统一
    - 我觉得`unix`做得对
- 那这`0x0A`、`0x0D`谁规定的
- 来自于什么呢？

### 发明人

- `0x0A`、`0x0D`这两个字符来自于一套编码
- 这个编码叫做`Baudot code`博多码
- 为什么叫做`Baudot code`博多码呢？
- 因为发明这个的人叫波多 Jean-Maurice-Émile `Baudot`
- 从农民到电报操作员再到法国电报工程师
- 他收到`Hughes`的启发,可见于[oeasy 电路 25 话](https://www.bilibili.com/video/BV1Es411Z7MH?p=25)
- 发明了用一条线路传输`多个bit位`的通信系统

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614081948071)

### 独特的按键和编码

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082162708)

- 这是最早发报的电键的样子
  - 5bits 的组合
  - 白色的有用
  - 可以传输`2`<sup>`5`</sup>种信号
- 怎么分配具体编码呢？

### Baudot 编码

- 他设计了编码的方法
  - 然后他就申请了法国专利
  - 然后是英国专利
- 后来的`波特`这个单位就是来源于此

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082283082)

- 但是只有字母，没有数字
- 怎么办呢？

### 翻页

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082485171)

- 他把字符分类两组
  - `Letter` 字符集主要存字母
  - `Figure` 字符集则主要是数字和符号
- 通过一个标志位进行选择
- 最终就是选打字头哪组字模进行输出
- 通过某个特定字符对应的切换机械上的字模档位
- `0b00010`/`0b00001`进行模式切换
- 有点像今天的 caps lock 和 shift
  - 这样`5bit` 虚拟出了 `6bit` 编码的效果。
  - 但是需要一个字符来切换状态
  - 需要约定最初的状态
  - 多长时间之后状态重制回默认
  - 这些其实是最早的`session`之类的东西了吧
- 这种编码最终形成了`ITA1`编码

### 键盘

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614083402089)

- 这也形成了 `qwer`键盘 的基本布局
- 有字符、数字、符号
- 我们可以看到一些控制字符
  - BELL
  - LINE FEED
  - CARRET
  - FIGS
  - LTRS
- 到这个时候回车和换行还是两回事
- 尤其在机械打字机上
  - 打一个字符的速度快
  - 但因为是机械装置
  - 换行+回车的速度慢
  - 两个字符的时间有的时候都不够回车时间
  - 愣打的话位置漂浮不确定
  - 往往多发一些空(Null)空延迟时间
  - 注意这个空(Null)不是空格 Blank
  - 他延迟时间却不打印内容
  - 等 carriage return 回来继续打印

### 编码的进化

- 在 ITA1 的基础上，编码发生了进化
- 这个属于字符内码
- 字符主要还是三类
  - 字符
  - 符号包括数字
  - 控制字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614083549476)

- 这些特殊字符在`ascii`时代还有吗？
- bell？
- 除了`\n`和`\r`之外还有什么样的字符吗？

## 总结

- 我们发现了`5bit-Baudot`博多码的来历
- 从莫尔斯码到博多码
  - 原来人来控制时间相对性，现在机器控制时间相对性
  - 输入方式从电键改成键盘
  - 输出方式从纸带变成打字机
- 除了`\n`和`\r`之外还有什么样的特殊字符吗？🤔
- 我们下次再说！👋
