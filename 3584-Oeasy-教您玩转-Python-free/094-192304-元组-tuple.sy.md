---
show: step
version: 1.0
enable_checker: true
---

# 列表 - 嵌套 embedded

## 回忆

- 上次我们了解了列表的嵌套
- 列表项也可以是列表
- 可以无限嵌套下去
- 这列表仍然可以做列表能做的事情
  - 插入
  - 删除
  - 排序
  - 运算
- 不过赋值的时候注意有三种情况
  - = 复制地址
  - 浅拷贝 拷贝元素内容
  - 深拷贝 把地址里的东西都复制出来
- 这就是列表！
- python 中到处都在用的列表 list
- 但是我们经常要用的就是列表
- 这次我们做什么？

### 解码

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630284993577)

- 首先解码两个字节为字节型整数
- 返回的结果赋给 sth
- 看起来也是一个序列
- 但是是用小括号括起来的序列
- 内部元素可以被索引
- 但是不能被修改
- 这个类型叫做 tuple
- tuple 是什么意思？

### 帮助手册

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285235154)

- tuple 是 元组
- 是一种内建的不能修改的序列
- list 列表是能够修改的序列
- 如果没有参数
- 就是一个空元组
- 如果参数是可循环的，元组就根据这些生成
- 如果参数是一个元组
- 那么返回值就是同一个对象

### 初始化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285440585)

- 空的小括号就是一个元组
- 逗号分割开的数值默认也是元组
- 其实这经常用来赋值

### 解包

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210915-1631710699925)

- 逗号分割的变量其实是元组
- 把后面这个元组 赋给 前面这个元组
- 前面元组里面两个元素
- 被分别赋值
- 如果前后数量不一致会如何？

### 解包

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210915-1631711090936)

- 前后数量不一致就不行
- 前后经历了一个 unpack 的过程
- 前后 unpack 出的变量数量要相等
- 才建立对应关系
- 可以用其他序列容器初始化元组么？

### 序列容器

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285600995)

- 可以把列表、字符串序列、字节流序列生成元组
- 元组不但内部元素不能修改
- 也不支持添加元素等函数
- 只能是一个只读的列表

### 元组初始化元组

- 用元组初始化元组
- 两个元组指向 heap 空间中同一块地址

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285779728)

- 元组支持什么函数呢？

### 元组函数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285828179)

- append、extend、pop、remove、copy、sort 这些修改本体的函数
- 一个没有
- 只支持这两个
  - count
  - index

### 计数函数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630285940499)

- 如果有的话就计数
- 没有的话返回 0

### 索引函数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630286091415)

- 索引函数三个参数
  - 搜索值
  - 开始位置 start
  - 结束位置 stop
- 既然有了索引函数
- 可以使用索引和切片么？

### 索引和切片

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630286391539)

- 切片和索引都可以使用
- 切片的结果还是元组
- 索引的结果是具体元素
- 我们来做一个例子

### 通过年份求属相

```
zodiac = ('鼠','牛','虎','兔','龙','蛇','马','羊','猴','鸡','狗','猪')
year = int(input("please input year:"))
print(zodiac[(year-4)%12])
```

- 十二生肖不能变
- 是比较典型的元组
- 元组可以做四则运算么？

### 计算

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630286485814)

- 元组可以进行加法和乘法计算
- 计算的结果还是元组

### 省略写法

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631604322865)

- 有了个逗号
- 意味着这就是一个元组

### 详细过程

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211126-1637924978273)

- 这就是计算的分解过程
- 元组可以嵌套么？

### 嵌套

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630287002627)

- 元组是支持嵌套的
- 而且嵌套的元组也可以用索引来定位
- 做个练习

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630287513309)

### 练习

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630287524903)

- 默认的逗号对应的不是列表
- 而是元组

### 总结

- 这次我们了解了元组
- 有了列表为什么还需要有元组呢？
- 因为元组不可变
- 列表可变
- 好多函数返回的是元组
- 他们都属于序列类型
- 还有什么也属于序列类型呢？🤔
- 下次再说 👋
